<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual-Memory Assisted Buffer Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      scroll-behavior: smooth;
    }
    .mobile-optimized { 
      margin-bottom: 2rem !important; 
    }
    @media (max-width: 768px) {
      .content-section { 
        padding: 1rem; 
        margin-bottom: 1.5rem;
      }
      .technical-details {
        margin: 1rem 0;
      }
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .nav-item {
      @apply px-4 py-2 rounded-lg transition-colors duration-200 text-gray-600 hover:text-blue-600 hover:bg-blue-50;
    }
    .nav-item.active {
      @apply text-blue-600 bg-blue-100;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-400 via-purple-500 to-pink-400 min-h-screen">
  <!-- 导航系统 -->
  <nav class="nav-scroll bg-white/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200">
    <div class="container mx-auto px-4 py-3">
      <div class="flex overflow-x-auto space-x-6 hide-scrollbar">
        <a href="#abstract" class="nav-item whitespace-nowrap">摘要</a>
        <a href="#background-motivation" class="nav-item whitespace-nowrap">背景与动机</a>
        <a href="#challenges" class="nav-item whitespace-nowrap">问题与挑战</a>
        <a href="#design-implementation" class="nav-item whitespace-nowrap">设计与实现</a>
        <a href="#evaluation" class="nav-item whitespace-nowrap">测试与评估</a>
        <a href="#conclusion" class="nav-item whitespace-nowrap">结论</a>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8">
    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-lg p-6">
      <!-- 论文标题和元数据 -->
      <div class="mb-12 md:mb-16">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center md:text-left">
          Virtual-Memory Assisted Buffer Management
        </h1>
        
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 p-6 rounded-r-lg">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">作者信息</strong>
                <div class="text-lg">Viktor Leis, Adnan Alhomssi, Tobias Ziegler, Yannick Loeck, Christian Dietrich</div>
                <div class="text-sm text-gray-600 mt-1">慕尼黑工业大学, 埃尔朗根-纽伦堡大学, 达姆施塔特工业大学, 汉堡工业大学</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">发表信息</strong>
                <div>SIGMOD 2023</div>
              </div>
            </div>
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">DOI标识</strong>
                <div class="font-mono text-sm bg-white px-3 py-2 rounded border">10.1145/mmmmm.mmmmm</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">关键词</strong>
                <div class="flex flex-wrap gap-2 mt-1">
                  <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">数据库管理系统</span>
                  <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">操作系统</span>
                  <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">缓存</span>
                  <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">缓冲区管理</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 核心贡献突出显示 -->
      <div class="bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 p-6 rounded-r-lg mb-12">
        <h4 class="font-bold text-green-700 mb-4 flex items-center text-xl">
          <i class="fas fa-trophy mr-2"></i>核心贡献
        </h4>
        <ul class="list-disc list-inside space-y-2 text-gray-700">
          <li><strong>vmcache</strong>：一种基于虚拟内存的新型缓冲区池设计，保留对故障和驱逐的控制</li>
          <li><strong>exmap</strong>：Linux内核扩展，实现可扩展的页表操作，解决操作系统性能瓶颈</li>
          <li>结合vmcache和exmap，在快速存储设备上提供灵活、高效和可扩展的缓冲区管理</li>
        </ul>
      </div>
      
      <!-- 摘要 -->
      <section id="abstract" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-file-alt mr-3 text-blue-500"></i>
          摘要
        </h2>
        <div class="prose max-w-none text-gray-700">
          <p class="mb-4">
            大多数数据库管理系统在主内存缓冲区池中缓存来自存储的页面。为此，它们要么依赖将页面标识符转换为指针的哈希表，要么依赖避免这种转换的指针交换。在这项工作中，作者提出了<strong>vmcache</strong>，一种缓冲区管理器设计，它使用硬件支持的虚拟内存将页面标识符转换为虚拟内存地址。
          </p>
          <p class="mb-4">
            与现有的基于mmap的方法不同，DBMS保留对页面故障和驱逐的控制。该设计可在现代操作系统之间移植，支持任意图数据，支持可变大小的页面，并且易于实现。依赖虚拟内存的一个缺点是，对于快速存储设备，现有的操作系统原语用于操作页表可能成为性能瓶颈。因此，作为第二个贡献，作者提出了<strong>exmap</strong>，它在Linux上实现了可扩展的页表操作。
          </p>
          <p>
            vmcache和exmap结合，在多核CPU和快速存储设备上提供了灵活、高效和可扩展的缓冲区管理。
          </p>
        </div>
      </section>
      
      <!-- 背景与动机 -->
      <section id="background-motivation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-layer-group mr-3 text-blue-500"></i>
          背景与动机
        </h2>
        
        <div class="prose max-w-none text-gray-700 mb-8">
          <p class="mb-4">
            数据库管理系统(DBMS)和操作系统(OS)之间的关系一直很紧张。操作系统通过虚拟化硬件访问提供进程隔离，而DBMS希望完全控制硬件以获得最佳效率。同时，操作系统提供的服务（例如从存储缓存页面）几乎正是数据库系统所需要的——但由于性能和语义原因，DBMS经常重新实现此功能。
          </p>
          <p class="mb-4">
            操作系统相对于DBMS的一大优势是它运行在内核模式，因此可以访问特权指令。特别是，操作系统直接控制虚拟内存页表，因此可以执行用户空间进程无法执行的操作。
          </p>
        </div>
        
        <!-- 缓冲区管理方案对比表 -->
        <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden mb-8">
          <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
            <h3 class="font-semibold text-gray-700 flex items-center">
              <i class="fas fa-table mr-2 text-blue-500"></i>
              缓冲区管理方案对比
            </h3>
          </div>
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">方案</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">翻译机制</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">控制方</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">可变大小</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">图数据</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">内存性能</th>
                  <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">外存性能</th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                <tr>
                  <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">mmap</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">页表</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">OS</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">容易</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">是</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-red-500 font-medium">慢</td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">传统哈希表</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">哈希表</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">DBMS</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">困难</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">是</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-red-500 font-medium">慢</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                </tr>
                <tr>
                  <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">指针交换</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">侵入式</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">DBMS</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">困难</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-red-500 font-medium">否</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                </tr>
                <tr class="bg-blue-50">
                  <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-blue-900">vmcache</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-blue-700">页表</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-blue-700">DBMS</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-blue-700">容易</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-blue-700">是</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-yellow-500 font-medium">中等</td>
                </tr>
                <tr class="bg-green-50">
                  <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-green-900">vmcache+exmap</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-700">页表</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-700">DBMS</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-700">容易</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-700">是</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                  <td class="px-4 py-3 whitespace-nowrap text-sm text-green-500 font-medium">快</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
        <div class="prose max-w-none text-gray-700">
          <p class="mb-4">
            为了完全控制，大多数DBMS避免使用文件支持的mmap，并在用户空间中实现显式缓冲区管理。传统上，这是使用包含当前缓存中所有页面的哈希表完成的。最近，更高效的缓冲区管理器设计依赖于指针交换。这两种方法都有缺点：前者具有不小的哈希表转换开销；后者更难实现，并且不支持循环页面引用（例如图数据）。
          </p>
          <p>
            这项工作不是妥协于转换的性能或功能优势，而是提出硬件支持的虚拟内存作为缓冲区管理的基本构建块。
          </p>
        </div>
      </section>
      
      <!-- 问题与挑战 -->
      <section id="challenges" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-exclamation-triangle mr-3 text-blue-500"></i>
          问题与挑战
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
          <div class="bg-red-50 p-5 rounded-lg border border-red-200">
            <h4 class="font-bold text-red-700 mb-3 flex items-center">
              <i class="fas fa-bug mr-2"></i>传统缓冲区管理问题
            </h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>哈希表方法有显著的翻译开销</li>
              <li>指针交换方法实现复杂，不支持图数据</li>
              <li>固定页面大小导致内存碎片和效率问题</li>
              <li>缺乏对快速存储设备的优化支持</li>
            </ul>
          </div>
          
          <div class="bg-orange-50 p-5 rounded-lg border border-orange-200">
            <h4 class="font-bold text-orange-700 mb-3 flex items-center">
              <i class="fas fa-tachometer-alt mr-2"></i>操作系统性能瓶颈
            </h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>TLB击落导致多核扩展性问题</li>
              <li>页面分配器在高速页面周转时成为瓶颈</li>
              <li>现有mmap实现无法充分利用NVMe SSD性能</li>
              <li>缺乏批量页面操作接口</li>
            </ul>
          </div>
        </div>
        
        <div class="prose max-w-none text-gray-700">
          <p class="mb-4">
            虽然操作系统管理的缓存使用mmap可能不是大多数DBMS的好解决方案，但操作系统有一个很大的优势：它不必使用显式哈希表进行页面翻译，而是可以依赖硬件支持（TLB）进行页面翻译。这就提出了一个问题：是否可以在不失去对驱逐和页面故障处理控制的情况下利用虚拟内存子系统？
          </p>
          <p>
            本文的一个贡献是肯定地回答了这个问题。作者描述了如何利用广泛支持的操作系统功能（匿名内存和MADV_DONTNEED提示）来实现硬件支持的页面翻译，同时在DBMS内保留对故障和驱逐的完全控制。
          </p>
        </div>
      </section>
      
      <!-- 设计与实现 -->
      <section id="design-implementation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-cogs mr-3 text-blue-500"></i>
          设计与实现
        </h2>
        
        <div class="mb-8">
          <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-vector-square mr-2 text-blue-500"></i>
            vmcache设计原理
          </h3>
          
          <!-- vmcache架构图 -->
          <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
            <div class="flex items-center justify-between mb-3">
              <h5 class="font-semibold text-gray-700">
                <i class="fas fa-image mr-2 text-blue-500"></i>
                原图 1: 缓冲区池页面翻译方案
              </h5>
              <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
            </div>
            
            <!-- 原图占位符 -->
            <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
              <img src="./images/fig1.png" alt="论文图1: 缓冲区池页面翻译方案" class="max-w-full h-auto rounded-lg">
            </div>
            
            <!-- 图注 -->
            <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
              <strong>原图图注:</strong> 存储上有6个页面(P0-P5)，其中3个被缓存(P1, P3, P5)
            </div>
          </div>
          
          <div class="prose max-w-none text-gray-700">
            <p class="mb-4">
              vmcache的关键思想是将存储设备映射到匿名（而不是文件支持的）虚拟内存，并使用MADV_DONTNEED提示显式控制驱逐。这使得通过TLB支持的翻译实现快速的内存页面访问，而无需将控制权交给操作系统。
            </p>
            <p>
              基于页表的翻译还允许vmcache支持任意图数据和可变大小的页面。
            </p>
          </div>
        </div>
        
        <!-- 技术细节：页面状态和同步 -->
        <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8">
          <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
            <i class="fas fa-microscope mr-2"></i>技术细节：页面状态和同步机制
          </summary>
          
          <div class="mt-6 space-y-6">
            <!-- 页面状态图 -->
            <div class="bg-white p-4 rounded-lg border border-gray-200">
              <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                <i class="fas fa-sitemap mr-2 text-blue-500"></i>
                页面状态转换图
              </h5>
              
              <div class="bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg text-center">
                <div class="grid grid-cols-3 gap-4 mb-4">
                  <div class="bg-red-100 p-3 rounded border border-red-300 text-center">
                    <i class="fas fa-ban text-red-500 mb-2"></i>
                    <p class="text-sm font-medium">已驱逐</p>
                  </div>
                  <div class="bg-yellow-100 p-3 rounded border border-yellow-300 text-center">
                    <i class="fas fa-lock text-yellow-500 mb-2"></i>
                    <p class="text-sm font-medium">已锁定</p>
                  </div>
                  <div class="bg-green-100 p-3 rounded border border-green-300 text-center">
                    <i class="fas fa-unlock text-green-500 mb-2"></i>
                    <p class="text-sm font-medium">未锁定</p>
                  </div>
                </div>
                
                <div class="flex justify-center items-center text-gray-600 text-sm">
                  <span>修复 →</span>
                  <i class="fas fa-arrow-right mx-2"></i>
                  <span>标记 →</span>
                  <i class="fas fa-arrow-right mx-2"></i>
                  <span>驱逐</span>
                </div>
              </div>
            </div>
            
            <!-- 技术解释 -->
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h5 class="font-semibold text-blue-700 mb-3 flex items-center">
                <i class="fas fa-info-circle mr-2"></i>技术解释：
              </h5>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><strong>页面状态管理:</strong> vmcache维护每个页面的状态（已驱逐、已锁定、未锁定、已标记）</li>
                <li><strong>乐观读取:</strong> 使用版本计数器实现无锁读取，避免缓存失效</li>
                <li><strong>内存回收:</strong> 利用MADV_DONTNEED提示，无需额外的内存回收方案</li>
                <li><strong>停车位技术:</strong> 使用固定大小的哈希表存储条件变量，减少空间开销</li>
              </ul>
            </div>
            
            <!-- 设计实现 -->
            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
              <h5 class="font-semibold text-green-700 mb-3 flex items-center">
                <i class="fas fa-cogs mr-2"></i>设计实现：
              </h5>
              <div class="text-gray-700 space-y-3">
                <div>
                  <strong class="text-green-700">状态转换:</strong>
                  <p>页面访问操作首先检查其状态条目，并根据状态图进行状态转换。修复操作将页面从已驱逐状态转换为已锁定状态，然后从存储读取页面并安装到页表中。</p>
                </div>
                <div>
                  <strong class="text-green-700">同步机制:</strong>
                  <p>使用64位状态条目，其中8位编码状态，56位用于乐观读取版本计数器。这允许原子操作如比较和交换(CAS)。</p>
                </div>
                <div>
                  <strong class="text-green-700">批量驱逐:</strong>
                  <p>为提高效率，实现驱逐64个页面的批次，最小化独占锁定并利用高效的批量I/O。</p>
                </div>
              </div>
            </div>
          </div>
        </details>
        
        <div class="mb-8">
          <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-expand-arrows-alt mr-2 text-blue-500"></i>
            可变页面大小支持
          </h3>
          
          <!-- 可变页面大小图 -->
          <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
            <div class="flex items-center justify-between mb-3">
              <h5 class="font-semibold text-gray-700">
                <i class="fas fa-image mr-2 text-blue-500"></i>
                原图 2: vmcache支持DBMS页面大小为VM页面大小的倍数
              </h5>
              <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
            </div>
            
            <!-- 原图占位符 -->
            <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
              <img src="./images/fig2.png" alt="论文图2: vmcache支持DBMS页面大小为VM页面大小的倍数" class="max-w-full h-auto rounded-lg">
            </div>
            
            <!-- 图注 -->
            <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
              <strong>原图图注:</strong> vmcache使DBMS页面大小能够成为VM页面大小的倍数
            </div>
          </div>
          
          <div class="prose max-w-none text-gray-700">
            <p class="mb-4">
              vmcache还使得支持任何为4 KB倍数的缓冲区池页面大小变得容易。对于在缓冲区管理器之上实现的数据结构，这一事实是完全透明的，即内存看起来是连续的。
            </p>
            <p>
              依赖虚拟内存实现多个页面大小的优点是它避免了主内存碎片。请注意，碎片不会简单地从用户空间移动到内核空间，但页表间接允许操作系统始终处理4 KB页面，而不必维护不同的分配类。
            </p>
          </div>
        </div>
        
        <div class="mb-8">
          <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <i class="fas fa-rocket mr-2 text-blue-500"></i>
            exmap: 可扩展的虚拟内存操作
          </h3>
          
          <!-- exmap架构图 -->
          <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
            <div class="flex items-center justify-between mb-3">
              <h5 class="font-semibold text-gray-700">
                <i class="fas fa-image mr-2 text-blue-500"></i>
                原图 5: exmap实现概述
              </h5>
              <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
            </div>
            
            <!-- 原图占位符 -->
            <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
              <img src="./images/fig5.png" alt="论文图5: exmap实现概述" class="max-w-full h-auto rounded-lg">
            </div>
            
            <!-- 图注 -->
            <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
              <strong>原图图注:</strong> VM表面(A)通过显式的free、alloc、read或write系统调用进行操作。每个每线程控制接口(B)拥有部分exmap本地内存池，该池作为接口本地的物理页面空闲列表存在(C)。如果接口耗尽页面(1)，它会从另一个接口窃取页面(2)。页面仅在表面和接口之间循环(X)。
            </div>
          </div>
          
          <div class="prose max-w-none text-gray-700">
            <p class="mb-4">
              exmap是一个专门的Linux内核扩展，通过新的API和高效的内核级实现实现快速和可扩展的页表操作。作者将exmap与vmcache共同设计，但它也可以用于加速其他应用程序。
            </p>
            <p class="mb-4">
              exmap作为Linux内核模块提供，用户可以在不重新启动的情况下加载到任何最近的Linux内核中。像POSIX接口一样，exmap提供了设置虚拟内存、分配和释放页面的原语。但是，exmap具有新的语义，以消除POSIX接口引起的瓶颈。
            </p>
            <p>
              exmap解决了两个主要性能问题：TLB击落和页面分配。通过批处理页面驱逐和避免分配时的TLB击落，以及使用预分配物理内存和线程本地内存池，exmap显著提高了虚拟内存操作的性能。
            </p>
          </div>
        </div>
      </section>
      
      <!-- 测试与评估 -->
      <section id="evaluation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-chart-line mr-3 text-blue-500"></i>
          测试与评估
        </h2>
        
        <div class="prose max-w-none text-gray-700 mb-8">
          <p class="mb-4">
            作者通过实验证明，对于内存工作负载，vmcache与基于交换的最先进缓冲区管理器具有竞争力，并且exmap使vmcache设计能够利用现代存储设备。
          </p>
          <p>
            实验设置包括在具有AMD EPYC 7713处理器（64核，128硬件线程）和512 GB主内存的单插槽服务器上运行测试，其中128 GB用于缓存。对于存储，使用3.8 TB Samsung PM1733 SSD。
          </p>
        </div>
        
        <!-- 内存性能对比 -->
        <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden mb-8">
          <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
            <h3 class="font-semibold text-gray-700 flex items-center">
              <i class="fas fa-chart-bar mr-2 text-blue-500"></i>
              内存内性能对比
            </h3>
          </div>
          <div class="p-4">
            <!-- 性能对比图 -->
            <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
              <div class="flex items-center justify-between mb-3">
                <h5 class="font-semibold text-gray-700">
                  <i class="fas fa-image mr-2 text-blue-500"></i>
                  原图 6: 内存内可扩展性
                </h5>
                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
              </div>
              
              <!-- 原图占位符 -->
              <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                <img src="./images/fig6.png" alt="论文图6: 内存内可扩展性" class="max-w-full h-auto rounded-lg">
              </div>
              
              <!-- 图注 -->
              <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                <strong>原图图注:</strong> 内存内可扩展性（128 GB池，随机查找：100M条目≈20 GB，TPC-C：200仓库≈40 GB）
              </div>
            </div>
            
            <div class="prose max-w-none text-gray-700">
              <p class="mb-4">
                在第一个实验中，作者研究了数据集适合主内存的情况下的性能和可扩展性。两种vmcache方法比其他系统更快，并且扩展性非常好——分别实现了近90 M查找/s和约3 M TPC-C事务/s。
              </p>
              <p>
                由于内存工作负载没有页面驱逐发生，作者看到exmap相对于基本vmcache设计没有提供主要的性能优势。
              </p>
            </div>
          </div>
        </div>
        
        <!-- 内存外性能对比 -->
        <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden mb-8">
          <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
            <h3 class="font-semibold text-gray-700 flex items-center">
              <i class="fas fa-chart-area mr-2 text-blue-500"></i>
              内存外性能对比
            </h3>
          </div>
          <div class="p-4">
            <!-- 性能对比图 -->
            <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
              <div class="flex items-center justify-between mb-3">
                <h5 class="font-semibold text-gray-700">
                  <i class="fas fa-image mr-2 text-blue-500"></i>
                  原图 7: 内存外性能和I/O统计
                </h5>
                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
              </div>
              
              <!-- 原图占位符 -->
              <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                <img src="./images/fig7.png" alt="论文图7: 内存外性能和I/O统计" class="max-w-full h-auto rounded-lg">
              </div>
              
              <!-- 图注 -->
              <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                <strong>原图图注:</strong> 内存外性能（128 GB池，随机查找：1B条目≈200 GB，TPC-C：800仓库≈160 GB）
              </div>
            </div>
            
            <div class="prose max-w-none text-gray-700">
              <p class="mb-4">
                在第二个实验中，作者研究了数据集不适合主内存的情况下的性能。在这种情况下，页面驱逐是必要的，并且exmap相对于基本vmcache设计的性能优势变得明显。
              </p>
              <p>
                对于随机查找，exmap将吞吐量提高了约2倍，对于TPC-C，提高了约1.5倍。exmap的优势在TPC-C中较小，因为TPC-C的I/O模式更复杂，并且有更多的CPU工作。
              </p>
            </div>
          </div>
        </div>
        
        <!-- exmap性能分析 -->
        <div class="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden">
          <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
            <h3 class="font-semibold text-gray-700 flex items-center">
              <i class="fas fa-tachometer-alt mr-2 text-blue-500"></i>
              exmap性能分析
            </h3>
          </div>
          <div class="p-4">
            <!-- 性能对比图 -->
            <div class="original-figure-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
              <div class="flex items-center justify-between mb-3">
                <h5 class="font-semibold text-gray-700">
                  <i class="fas fa-image mr-2 text-blue-500"></i>
                  原图 8: exmap与POSIX接口的页表操作延迟
                </h5>
                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">论文原图</span>
              </div>
              
              <!-- 原图占位符 -->
              <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                <img src="./images/fig8.png" alt="论文图8: exmap与POSIX接口的页表操作延迟" class="max-w-full h-auto rounded-lg">
              </div>
              
              <!-- 图注 -->
              <div class="mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                <strong>原图图注:</strong> 页表操作延迟（64个页面，线程数变化）
              </div>
            </div>
            
            <div class="prose max-w-none text-gray-700">
              <p class="mb-4">
                作者还测量了exmap与POSIX接口的页表操作延迟。exmap通过避免TLB击落和批处理页面操作，显著降低了延迟。
              </p>
              <p>
                对于64个页面的操作，exmap的延迟比POSIX接口低约一个数量级，并且随着线程数的增加，这种优势更加明显。
              </p>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 结论 -->
      <section id="conclusion" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-flag-checkered mr-3 text-blue-500"></i>
          结论
        </h2>
        
        <div class="prose max-w-none text-gray-700 mb-8">
          <p class="mb-4">
            作者提出了<strong>vmcache</strong>，一种缓冲区管理器设计，它使用硬件支持的虚拟内存将页面标识符转换为虚拟内存地址。与现有的基于mmap的方法不同，DBMS保留对页面故障和驱逐的控制。该设计可在现代操作系统之间移植，支持任意图数据，支持可变大小的页面，并且易于实现。
          </p>
          <p class="mb-4">
            依赖虚拟内存的一个缺点是，对于快速存储设备，现有的操作系统原语用于操作页表可能成为性能瓶颈。因此，作为第二个贡献，作者提出了<strong>exmap</strong>，它在Linux上实现了可扩展的页表操作。
          </p>
          <p>
            vmcache和exmap结合，在多核CPU和快速存储设备上提供了灵活、高效和可扩展的缓冲区管理。实验表明，对于内存工作负载，vmcache与基于交换的最先进缓冲区管理器具有竞争力，并且exmap使vmcache设计能够利用现代存储设备。
          </p>
        </div>
        
        <!-- 未来工作 -->
        <div class="bg-gradient-to-r from-purple-50 to-pink-50 border-l-4 border-purple-500 p-6 rounded-r-lg">
          <h4 class="font-bold text-purple-700 mb-3 flex items-center">
            <i class="fas fa-road mr-2"></i>未来研究方向
          </h4>
          <ul class="list-disc list-inside space-y-2 text-gray-700">
            <li>将vmcache集成到完整的数据库系统中</li>
            <li>探索exmap在其他应用场景中的使用</li>
            <li>研究虚拟内存辅助缓冲区管理在异构计算环境中的潜力</li>
            <li>优化exmap以支持更大的页面大小和更复杂的虚拟内存操作</li>
          </ul>
        </div>
      </section>
    </div>
  </div>
  
  <!-- 交互脚本 -->
  <script>
    // 智能导航和交互功能
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      const sections = document.querySelectorAll('section');
      
      function highlightNav() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (window.scrollY >= (sectionTop - 100)) {
            current = section.getAttribute('id');
          }
        });

        navItems.forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('href') === `#${current}`) {
            item.classList.add('active');
          }
        });
      }

      window.addEventListener('scroll', highlightNav);
      
      // 平滑滚动
      navItems.forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          window.scrollTo({
            top: targetSection.offsetTop - 80,
            behavior: 'smooth'
          });
        });
      });
    });
  </script>
</body>
</html>