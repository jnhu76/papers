<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TickTock: Verified Isolation in a Production Embedded OS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      scroll-behavior: smooth;
    }
    .mobile-optimized { 
      margin-bottom: 2rem !important; 
    }
    @media (max-width: 768px) {
      .content-section { 
        padding: 1rem; 
        margin-bottom: 1.5rem;
      }
      .technical-details {
        margin: 1rem 0;
      }
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .nav-item {
      @apply px-4 py-2 rounded-lg transition-colors duration-200 text-gray-600 hover:text-blue-600 hover:bg-blue-50;
    }
    .nav-item.active {
      @apply text-blue-600 bg-blue-100;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-400 via-purple-500 to-pink-400 min-h-screen">
  <!-- 导航系统 -->
  <nav class="nav-scroll bg-white/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200">
    <div class="container mx-auto px-4 py-3">
      <div class="flex overflow-x-auto space-x-6 hide-scrollbar">
        <a href="#abstract" class="nav-item whitespace-nowrap">摘要</a>
        <a href="#background-motivation" class="nav-item whitespace-nowrap">背景与动机</a>
        <a href="#challenges" class="nav-item whitespace-nowrap">问题与挑战</a>
        <a href="#design-implementation" class="nav-item whitespace-nowrap">设计与实现</a>
        <a href="#evaluation" class="nav-item whitespace-nowrap">测试与评估</a>
        <a href="#conclusion" class="nav-item whitespace-nowrap">结论</a>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8">
    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-lg p-6">
      <!-- 论文标题和元数据 -->
      <div class="mb-12 md:mb-16">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center md:text-left">
          TickTock: Verified Isolation in a Production Embedded OS
        </h1>
        
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 p-6 rounded-r-lg">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">作者信息</strong>
                <div class="text-lg">Vivien Rindisbacher, Evan Johnson, Pat Pannuto, Stefan Savage</div>
                <div class="text-sm text-gray-600 mt-1">UCSD, NYU</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">发表信息</strong>
                <div>SOSP '25, Seoul, Republic of Korea</div>
              </div>
            </div>
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">DOI标识</strong>
                <div class="font-mono text-sm bg-white px-3 py-2 rounded border">10.1145/3731569.3764856</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">关键词</strong>
                <div class="flex flex-wrap gap-2 mt-1">
                  <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Verification</span>
                  <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Process Isolation</span>
                  <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">Kernel Security</span>
                  <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">Embedded Systems</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 核心贡献突出显示 -->
      <div class="bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 p-6 rounded-r-lg mb-12">
        <h4 class="font-bold text-green-700 mb-4 flex items-center text-xl">
          <i class="fas fa-trophy mr-2"></i>核心贡献
        </h4>
        <ul class="list-disc list-inside space-y-3 text-gray-700">
          <li><strong>验证引导的设计</strong>：提出了新的细粒度MPU抽象，解耦内核需求与硬件约束</li>
          <li><strong>形式化验证</strong>：使用Flux验证器证明进程隔离属性，覆盖ARMV7-M和RISC-V平台</li>
          <li><strong>性能评估</strong>：TickTock性能与Tock相当，在某些关键路径上表现更优</li>
          <li><strong>Bug发现</strong>：验证过程中发现了7个先前未知的内核隔离漏洞</li>
        </ul>
      </div>
      
      <!-- 摘要 -->
      <section id="abstract" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-file-alt mr-3 text-blue-500"></i>
          摘要
        </h2>
        <div class="prose max-w-none text-gray-700">
          <p class="mb-4">作者提出了一个案例研究，正式验证了Tock生产微控制器操作系统内核中的进程隔离。Tock结合硬件内存保护单元和语言级技术（通过使用Rust编写内核）来强制执行用户和内核代码之间的隔离。</p>
          <p class="mb-4">验证Tock进程抽象的工作发现了多个破坏隔离的微妙错误，其中许多允许恶意应用程序破坏整个操作系统。作者描述了这项工作以及TickTock，这是Tock操作系统内核的一个分支，通过构造消除了隔离错误。</p>
          <p class="mb-4">TickTock使用Flux（一种基于SMT的Rust验证器）来正式指定和验证进程隔离，覆盖所有Tock支持的ARMV7-M平台和三个RISC-V 32位平台。验证引导的设计和实现导致了一个新的细粒度进程抽象，比Tock的更简单，具有正式的安全保证（在30秒内验证），并且在某些关键代码路径上优于Tock。</p>
        </div>
      </section>
      
      <!-- 背景与动机 -->
      <section id="background-motivation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-layer-group mr-3 text-blue-500"></i>
          背景与动机
        </h2>
        
        <div class="prose max-w-none text-gray-700">
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">Tock操作系统</h3>
          <p class="mb-4">Tock是一个微控制器操作系统，越来越多地部署在安全关键系统中，包括Google安全芯片(GSC)、Microsoft的Pluton 2安全处理器等。与Linux等传统操作系统甚至seL4等安全微内核不同，Tock使用Rust编写，这意味着内核空间组件在语言级别通过Rust的类型和内存安全相互隔离。</p>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">内存保护挑战</h3>
          <p class="mb-4">Tock无法依赖虚拟内存和内存管理单元(MMU)来隔离应用程序，因为该操作系统设计用于运行在缺乏MMU的资源受限设备上。相反，Tock依赖内存保护单元(MPU)来确保每个用户进程只能访问自己的内存区域，并与其他进程和内核隔离。</p>
          
          <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 mb-6">
            <h5 class="font-semibold text-blue-700 mb-2 flex items-center">
              <i class="fas fa-info-circle mr-2"></i>MPU配置挑战
            </h5>
            <ul class="list-disc list-inside space-y-1 text-gray-700">
              <li>配置本身需要平衡底层MPU硬件的尺寸和对齐约束以及每个进程（和内核本身）的内存需求</li>
              <li>MPU一次只能配置一个进程的访问控制策略，Tock内核必须在软件中按进程管理MPU配置</li>
              <li>Tock必须在存在中断的情况下完成这些工作</li>
            </ul>
          </div>
          
          <!-- 图1: Tock架构图 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8 mt-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-sitemap mr-2"></i>技术细节：图1 - Tock架构
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 1: Tock架构
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <img src="./images/fig1.png" alt="论文图1: Tock架构图" class="max-w-full h-auto rounded-lg">
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> Tock的架构（来自Tock [4]，经许可）
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>进程(Processes):</strong> 可以用任意语言编写，完全不受信任，使用基于硬件的保护机制相互隔离并与内核隔离</li>
                  <li><strong>胶囊(Capsules):</strong> 驱动程序在与内核相同的级别运行，并协作调度，必须完全用安全的Rust编写</li>
                  <li><strong>核心内核组件:</strong> 可以使用不安全的Rust提供安全API并配置和执行内存保护</li>
                  <li><strong>隔离保证:</strong> Tock的安全（隔离）保证完全依赖于核心内核的正确性</li>
                </ul>
              </div>
            </div>
          </details>
        </div>
      </section>
      
      <!-- 问题与挑战 -->
      <section id="challenges" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-exclamation-triangle mr-3 text-blue-500"></i>
          问题与挑战
        </h2>
        
        <div class="prose max-w-none text-gray-700">
          <h3 class="text-xl font-bold text-gray-800 mb-4">MPU配置的复杂性</h3>
          <p class="mb-4">配置MPU是一项复杂的任务，需要平衡底层MPU硬件的尺寸和对齐约束以及每个进程的内存需求。MPU一次只能配置一个进程的访问控制策略，因此Tock内核必须在软件中按进程管理MPU配置，并在存在中断的情况下完成这些工作。</p>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">中断和上下文切换</h3>
          <p class="mb-4">Tock内核是单线程、事件驱动的系统，因此中断和上下文切换驱动操作系统的控制流。实现上下文切换代码的（汇编）中断处理程序必须确保MPU被适当配置和启用，并且关键的硬件寄存器被正确保存和恢复。</p>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">发现的隔离漏洞</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 my-6">
            <div class="bg-red-50 p-4 rounded-lg border border-red-200">
              <h4 class="font-bold text-red-700 text-lg mb-2 flex items-center">
                <i class="fas fa-bug mr-2"></i>MPU配置逻辑错误
              </h4>
              <p class="text-sm text-gray-700">原始内核可能无意中允许进程访问内核拥有的授权内存，当进程内存和内核拥有的授权内存重叠时发生</p>
            </div>
            
            <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
              <h4 class="font-bold text-orange-700 text-lg mb-2 flex items-center">
                <i class="fas fa-microchip mr-2"></i>中断汇编模式切换遗漏
              </h4>
              <p class="text-sm text-gray-700">在上下文切换的内联汇编中遗漏了关键的CPU执行模式切换步骤，使Tock在仍处于特权执行模式时跳入进程代码</p>
            </div>
            
            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
              <h4 class="font-bold text-yellow-700 text-lg mb-2 flex items-center">
                <i class="fas fa-calculator mr-2"></i>整数溢出
              </h4>
              <p class="text-sm text-gray-700">在update_app_mem_region方法中发现整数下溢漏洞，恶意应用程序可以传递绕过内核检查的参数并使内核崩溃</p>
            </div>
          </div>
          
          <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-6">
            <h5 class="font-semibold text-yellow-700 mb-2 flex items-center">
              <i class="fas fa-exclamation-triangle mr-2"></i>验证发现的问题统计
            </h5>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center mt-3">
              <div class="bg-white p-3 rounded-lg border">
                <div class="text-2xl font-bold text-red-600">5</div>
                <div class="text-sm text-gray-600">MPU配置错误</div>
              </div>
              <div class="bg-white p-3 rounded-lg border">
                <div class="text-2xl font-bold text-orange-600">2</div>
                <div class="text-sm text-gray-600">中断处理错误</div>
              </div>
              <div class="bg-white p-3 rounded-lg border">
                <div class="text-2xl font-bold text-yellow-600">6</div>
                <div class="text-sm text-gray-600">破坏隔离的错误</div>
              </div>
              <div class="bg-white p-3 rounded-lg border">
                <div class="text-2xl font-bold text-blue-600">7</div>
                <div class="text-sm text-gray-600">总计发现错误</div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 设计与实现 -->
      <section id="design-implementation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-cogs mr-3 text-blue-500"></i>
          设计与实现
        </h2>
        
        <div class="prose max-w-none text-gray-700">
          <h3 class="text-xl font-bold text-gray-800 mb-4">Flux验证器</h3>
          <p class="mb-4">Flux是一个基于SMT的精化类型检查器，用于Rust，使开发人员能够指定正确性属性并在编译时进行验证。作者使用三种主要的Flux机制来正式指定和证明TickTock中的进程隔离。</p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 text-lg mb-2 flex items-center">
                <i class="fas fa-shield-alt mr-2"></i>不变式
              </h4>
              <p class="text-sm text-gray-700">允许开发人员编写在数据结构生命周期内必须保持的属性</p>
            </div>
            
            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
              <h4 class="font-bold text-green-700 text-lg mb-2 flex items-center">
                <i class="fas fa-check-circle mr-2"></i>前置条件
              </h4>
              <p class="text-sm text-gray-700">指定函数调用时必须满足的要求</p>
            </div>
            
            <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
              <h4 class="font-bold text-purple-700 text-lg mb-2 flex items-center">
                <i class="fas fa-clipboard-check mr-2"></i>后置条件
              </h4>
              <p class="text-sm text-gray-700">描述函数完成时关于其行为的保证</p>
            </div>
          </div>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">细粒度MPU抽象重新设计</h3>
          <p class="mb-4">TickTock解决了原始Tock设计中存在的纠缠和分歧问题，通过一个细粒度的抽象，专注于配置MPU硬件区域所需的细节，同时确保进程抽象精确跟踪硬件强制执行的内容。</p>
          
          <!-- 图2: Tock进程内存布局 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8 mt-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-memory mr-2"></i>技术细节：图2 - Tock进程内存布局
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 2: Tock进程内存布局
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <img src="./images/fig2.png" alt="论文图2: Tock进程内存布局及其映射到MPU区域" class="max-w-full h-auto rounded-lg">
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> 抽象的Tock进程内存布局及其映射到MPU区域
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>栈、数据、堆和授权区域:</strong> 都在RAM中分配，栈向下增长到进程分配内存区域的开始，进程堆和授权区域向上和向下相互增长</li>
                  <li><strong>内核任务:</strong> 配置MPU以确保它允许访问（白色）栈、数据和堆，但不允许访问（灰色）授权区域</li>
                  <li><strong>硬件约束:</strong> MPU对区域结构有自己的约束，例如ARM Cortex-M MPU具有严格的区域大小和对齐约束</li>
                  <li><strong>子区域:</strong> Cortex-M区域被分成八个相同大小的子区域，可以独立启用或禁用，提供比单个区域更细粒度的内存访问控制</li>
                </ul>
              </div>
            </div>
          </details>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">验证架构</h3>
          <p class="mb-4">TickTock的验证结构分为四个部分：</p>
          
          <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-200 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-bold text-purple-700 mb-3 flex items-center">
                  <i class="fas fa-check-double mr-2"></i>验证步骤
                </h4>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                  <li>精化细粒度接口的方法与描述MPU驱动程序如何创建和更新区域的合约</li>
                  <li>验证内核的内存逻辑视图与Tock的内存模型规范匹配</li>
                  <li>连接细粒度接口的精化方法与内核的逻辑视图</li>
                  <li>验证每个MPU驱动程序正确实现精化合约</li>
                </ol>
              </div>
              
              <div>
                <h4 class="font-bold text-purple-700 mb-3 flex items-center">
                  <i class="fas fa-architecture mr-2"></i>验证组件
                </h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700">
                  <li>RegionDescriptor抽象：描述单个MPU强制执行的硬件区域的属性</li>
                  <li>MPU抽象：实际配置MPU的工作</li>
                  <li>FluxArm：ARMv7-M ISA的可执行形式语义</li>
                  <li>关联精化：将精化与RegionDescriptor trait关联</li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- 图3: Tock和TickTock的MPU抽象 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8 mt-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-project-diagram mr-2"></i>技术细节：图3 - Tock和TickTock的MPU抽象
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 3: Tock和TickTock的MPU抽象
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <img src="./images/fig3.png" alt="论文图3: Tock和TickTock的MPU抽象" class="max-w-full h-auto rounded-lg">
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> Tock和TickTock的MPU抽象
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>Tock的单片设计:</strong> 在单个高级接口中抽象MPU，暴露为进程分配和更新内存区域的操作</li>
                  <li><strong>TickTock的细粒度设计:</strong> 专注于配置MPU硬件区域所需的细节，同时确保进程抽象精确跟踪硬件强制执行的内容</li>
                  <li><strong>关键方法:</strong> allocate_app_mem_region, update_app_mem_region, configure_mpu (Tock) 和 new_regions, update_regions, configure_mpu (TickTock)</li>
                  <li><strong>设计优势:</strong> 细粒度抽象解耦了内核需求与硬件约束，消除了纠缠和分歧问题</li>
                </ul>
              </div>
            </div>
          </details>
        </div>
      </section>
      
      <!-- 测试与评估 -->
      <section id="evaluation" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-chart-line mr-3 text-blue-500"></i>
          测试与评估
        </h2>
        
        <div class="prose max-w-none text-gray-700">
          <h3 class="text-xl font-bold text-gray-800 mb-4">硬件兼容性测试</h3>
          <p class="mb-4">作者在真实硬件上对21个Tock应用程序进行了差分测试，比较TickTock和Tock的输出。对于ARM架构，作者在Nordic NRF52840dk芯片上运行了Tock上游测试的子集。总体而言，在Tock和TickTock上运行了21个测试应用程序，其中5个有不同的输出，这些不同的输出是预期的，因为测试要么测试内存布局，要么从传感器读取和打印数据。</p>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">性能基准测试</h3>
          <p class="mb-4">作者评估了TickTock的内存分配和MPU配置代码更改对性能的影响，相对于Tock。仅在ARM上比较性能，因为QEMU不反映目标硬件的性能特征。</p>
          
          <!-- 图14: 性能基准测试结果 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8 mt-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-chart-bar mr-2"></i>技术细节：图14 - 性能基准测试结果
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 14: 性能基准测试结果
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <img src="./images/fig14.png" alt="论文图14: 进程任务的平均CPU周期" class="max-w-full h-auto rounded-lg">
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> 进程任务的平均CPU周期
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>CPU周期:</strong> 在大多数情况下，TickTock的性能与Tock相当或更好。在setup_mpu中有一个性能回归，平均花费7个额外周期</li>
                  <li><strong>性能改进:</strong> 在其他代码路径上，TickTock表现明显更好。例如，TickTock中的allocate_grant平均需要641个周期，并且比Tock实现快得多，因为它避免了重新计算MPU区域</li>
                  <li><strong>上下文切换:</strong> 上游Tock的上下文切换需要32,640个周期，而TickTock平均需要32,740个周期——0.3%的开销</li>
                  <li><strong>内存使用:</strong> TickTock分配了7,780字节的总内存，Tock分配了8,192字节的总内存。当配置TickTock添加填充时，未使用的内存变为336字节——在Tock的252字节的84字节内</li>
                </ul>
              </div>
            </div>
          </details>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">验证效率</h3>
          <p class="mb-4">作者测量了Flux验证TickTock内核和中断处理代码所需的时间。Flux是一个模块化验证器，它单独检查每个函数，对其他函数使用指定的合约（精化类型）。这允许在代码开发期间进行增量和交互式验证。</p>
          
          <!-- 图15: 验证时间 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-8 mt-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-clock mr-2"></i>技术细节：图15 - 验证时间
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 15: 验证时间
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <img src="./images/fig15.png" alt="论文图15: Flux验证TickTock所需的时间" class="max-w-full h-auto rounded-lg">
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> Flux验证TickTock所需的时间。Fns.是函数数量，Total是验证代码所需的总时间，Max是验证单个函数所需的最大时间，Mean是验证函数的平均时间，StdDev.是跨函数验证时间的标准偏差。
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>中断验证:</strong> 中断代码验证时间明显更长，尽管比内核其余部分更小（在LoC和函数方面）。这是因为这段代码本质上是验证汇编指令、硬件语义和中断处理程序的精确功能正确性</li>
                  <li><strong>内核验证:</strong> 在内核中，一个函数平均需要0.05秒检查，最坏情况约为8秒，这意味着可以在内核开发期间使用Flux连续验证</li>
                  <li><strong>总体验证:</strong> 验证整个内核和中断处理程序需要约30秒，其中大部分时间花在中断处理程序上</li>
                  <li><strong>验证效率:</strong> 验证时间对于开发工作流是可行的，允许在代码更改时进行连续验证</li>
                </ul>
              </div>
            </div>
          </details>
        </div>
      </section>
      
      <!-- 结论 -->
      <section id="conclusion" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-flag-checkered mr-3 text-blue-500"></i>
          结论
        </h2>
        
        <div class="prose max-w-none text-gray-700">
          <p class="mb-4">作者展示了TickTock，一个Tock生产微控制器操作系统内核的分支，通过构造消除了隔离错误。这项工作发现了Tock中的多个先前未知的隔离漏洞，并展示了如何通过验证引导的设计和实现来消除它们。</p>
          
          <div class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border border-green-200 mb-6">
            <h4 class="font-bold text-green-700 mb-4 flex items-center text-xl">
              <i class="fas fa-check-circle mr-2"></i>主要成果
            </h4>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
              <li><strong>验证引导的设计:</strong> 提出了一个新的细粒度MPU抽象，解耦内核需求与硬件约束，消除了原始Tock设计中的纠缠和分歧问题</li>
              <li><strong>形式化验证:</strong> 使用Flux验证器证明了进程隔离属性，覆盖所有Tock支持的ARMV7-M平台和三个RISC-V 32位平台</li>
              <li><strong>性能评估:</strong> TickTock性能与Tock相当，在某些关键路径上表现更优，同时提供正式的安全保证</li>
              <li><strong>Bug发现:</strong> 验证过程中发现了7个先前未知的内核隔离漏洞，其中许多允许恶意应用程序破坏整个操作系统</li>
            </ul>
          </div>
          
          <h3 class="text-xl font-bold text-gray-800 mb-4 mt-6">未来工作</h3>
          <p class="mb-4">作者计划将TickTock的验证扩展到Tock的其他安全关键组件，包括进程加载器和系统调用接口。此外，作者希望探索如何将TickTock的验证方法应用于其他嵌入式操作系统和硬件平台。</p>
          
          <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
            <h5 class="font-semibold text-yellow-700 mb-2 flex items-center">
              <i class="fas fa-lightbulb mr-2"></i>研究意义
            </h5>
            <p class="text-gray-700">这项工作展示了形式化验证在现实世界生产系统中的实际可行性，为嵌入式系统安全提供了新的标准。TickTock的成功验证表明，即使是复杂的系统级代码也可以通过现代验证工具进行形式化验证，而不会显著影响性能或开发效率。</p>
          </div>
        </div>
      </section>
    </div>
  </div>
  
  <!-- 交互脚本 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      const sections = document.querySelectorAll('section');
      
      function highlightNav() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (window.scrollY >= (sectionTop - 100)) {
            current = section.getAttribute('id');
          }
        });

        navItems.forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('href') === `#${current}`) {
            item.classList.add('active');
          }
        });
      }

      window.addEventListener('scroll', highlightNav);
      
      // 平滑滚动
      navItems.forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          window.scrollTo({
            top: targetSection.offsetTop - 80,
            behavior: 'smooth'
          });
        });
      });
      
      // 技术细节卡片交互
      const detailsElements = document.querySelectorAll('.technical-details');
      detailsElements.forEach(detail => {
        detail.addEventListener('toggle', function() {
          if (this.open) {
            this.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }
        });
      });
    });
  </script>
<!-- AI生成内容标识 --><div id="ai-badge" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; cursor: pointer;"><div style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); display: flex; align-items: center; gap: 6px; transition: all 0.3s ease;"><span style="font-size: 16px;">🤖</span><span>AI生成</span></div></div><script>(function(){const badge=document.getElementById('ai-badge');let expanded=false; badge.addEventListener('click',function(){if(!expanded){const details=document.createElement('div');details.id='ai-details';details.style.cssText="position:absolute;bottom:50px;right:0;background:white;color:#333;padding:12px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);width:200px;font-size:12px;line-height:1.5;border:1px solid #e5e7eb;";details.innerHTML='<div style="font-weight:600;margin-bottom:8px;color:#6366f1">人工智能生成内容</div><div style="color:#666">本页面内容通过AI技术自动生成，仅供参考。生成时间：'+new Date().toLocaleDateString('zh-CN')+'</div>';badge.appendChild(details);expanded=true;}else{const details=document.getElementById('ai-details');if(details)details.remove();expanded=false;}});})();</script></body></html>