<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D2FS: Device-Driven Filesystem Garbage Collection - 可视化学习指南</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      scroll-behavior: smooth;
    }
    .mobile-optimized { 
      margin-bottom: 2rem !important; 
    }
    @media (max-width: 768px) {
      .content-section { 
        padding: 1rem; 
        margin-bottom: 1.5rem;
      }
      .technical-details {
        margin: 1rem 0;
      }
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .nav-item {
      @apply px-4 py-2 rounded-lg transition-colors duration-200 text-gray-600 hover:text-blue-600 hover:bg-blue-50;
    }
    .nav-item.active {
      @apply text-blue-600 bg-blue-100;
    }
    .tech-card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .tech-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    }
    .performance-bar {
      transition: width 1s ease-in-out;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-400 via-purple-500 to-pink-400 min-h-screen">
  <!-- 导航系统 -->
  <nav class="nav-scroll bg-white/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200">
    <div class="container mx-auto px-4 py-3">
      <div class="flex overflow-x-auto space-x-6 hide-scrollbar">
        <a href="#abstract" class="nav-item whitespace-nowrap">摘要</a>
        <a href="#background-motivation" class="nav-item whitespace-nowrap">背景与动机</a>
        <a href="#challenges" class="nav-item whitespace-nowrap">问题与挑战</a>
        <a href="#design-implementation" class="nav-item whitespace-nowrap">设计与实现</a>
        <a href="#evaluation" class="nav-item whitespace-nowrap">测试与评估</a>
        <a href="#conclusion" class="nav-item whitespace-nowrap">结论</a>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8">
    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-lg p-4 md:p-8">
      <!-- 论文标题和元数据 -->
      <div class="mb-8 md:mb-12">
        <h1 class="text-2xl md:text-4xl font-bold text-gray-800 mb-4 md:mb-6 text-center md:text-left">
          D2FS: Device-Driven Filesystem Garbage Collection
        </h1>
        
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 p-4 md:p-6 rounded-r-lg mb-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-gray-700">
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">作者信息</strong>
                <div class="text-base md:text-lg">Juwon Kim, Seungjae Lee, Joontaek Oh, Dongkun Shin, Youjip Won</div>
                <div class="text-sm text-gray-600 mt-1">KAIST, University of Wisconsin-Madison, Sungkyunkwan University</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">发表信息</strong>
                <div>USENIX FAST 2025 • February 25-27, 2025 • Santa Clara, CA, USA</div>
              </div>
            </div>
            <div class="space-y-3">
              <div>
                <strong class="text-blue-700 block mb-1">DOI标识</strong>
                <div class="font-mono text-sm bg-white px-3 py-2 rounded border break-words">https://www.usenix.org/conference/fast25/presentation/kim-juwon</div>
              </div>
              <div>
                <strong class="text-blue-700 block mb-1">关键词</strong>
                <div class="flex flex-wrap gap-2 mt-1">
                  <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">文件系统</span>
                  <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">垃圾回收</span>
                  <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">闪存存储</span>
                  <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm">设备驱动</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- AI生成内容标识 -->
        <div class="mt-6 mb-8 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 rounded-r-lg shadow-sm">
          <div class="flex items-start gap-3">
            <div class="flex-shrink-0 mt-0.5">
              <svg class="w-6 h-6 text-amber-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
            </div>
            
            <div class="flex-1">
              <div class="flex flex-wrap items-center gap-2 mb-2">
                <span class="px-3 py-1 bg-amber-100 text-amber-800 text-sm font-bold rounded-full border border-amber-200">
                  ⚠️ AI生成内容
                </span>
                <span class="text-xs text-amber-700 font-medium px-2 py-1 bg-amber-50 rounded">
                  法律要求标识
                </span>
              </div>
              
              <p class="text-sm text-gray-700 leading-relaxed">
                根据《人工智能生成合成内容标识办法》要求，本文的<strong class="text-amber-700">解析、评述及总结内容由人工智能模型生成</strong>。生成内容可能存在不准确、过时或偏差，仅作为学习参考之用。
              </p>
              
              <div class="mt-3 pt-3 border-t border-amber-200">
                <p class="text-xs text-gray-600 flex items-start">
                  <svg class="w-4 h-4 mr-2 mt-0.5 text-blue-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                  </svg>
                  建议您：1) 核对原始论文；2) 结合专业知识判断；3) 不依赖AI生成内容做出关键学术决策。
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 核心贡献高亮框 -->
        <div class="bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 p-4 md:p-6 rounded-r-lg mb-6">
          <h4 class="font-bold text-green-700 mb-3 flex items-center text-lg md:text-xl">
            <i class="fas fa-trophy mr-2"></i>核心贡献
          </h4>
          <ul class="list-disc list-inside space-y-2 text-gray-700">
            <li><strong>消除文件系统级垃圾回收开销</strong>：将垃圾回收任务从文件系统卸载到存储设备</li>
            <li><strong>耦合垃圾回收（CGC）</strong>：设备级垃圾回收同时更新逻辑和物理地址映射</li>
            <li><strong>迁移上调用（Migration Upcall）</strong>：设备到主机的轻量级通知机制</li>
            <li><strong>虚拟过度配置（Virtual Overprovisioning）</strong>：确保设备及时回收空闲段</li>
            <li><strong>性能显著提升</strong>：相比F2FS提升3倍，相比zoned F2FS提升1.7倍</li>
          </ul>
        </div>
      </div>
      
      <!-- 摘要 -->
      <section id="abstract" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-file-alt mr-3 text-blue-500"></i>
          摘要
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 mb-4 leading-relaxed">
            作者提出了一种<strong>设备驱动的文件系统垃圾回收机制</strong>，将日志结构文件系统从运行垃圾回收的任务中解放出来。该方法利用底层闪存存储的垃圾回收功能来回收文件系统分区中的无效段。
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 my-6">
            <div class="tech-card bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 text-base md:text-lg mb-2">
                <i class="fa-solid fa-link mr-2"></i>耦合垃圾回收
              </h4>
              <p class="text-sm text-gray-700">设备级垃圾回收同时更新逻辑和物理地址映射</p>
            </div>
            <div class="tech-card bg-green-50 p-4 rounded-lg border border-green-200">
              <h4 class="font-bold text-green-700 text-base md:text-lg mb-2">
                <i class="fa-solid fa-bullhorn mr-2"></i>迁移上调用
              </h4>
              <p class="text-sm text-gray-700">异步通知主机文件映射更新，最小化干扰</p>
            </div>
            <div class="tech-card bg-purple-50 p-4 rounded-lg border border-purple-200">
              <h4 class="font-bold text-purple-700 text-base md:text-lg mb-2">
                <i class="fa-solid fa-expand-arrows-alt mr-2"></i>虚拟过度配置
              </h4>
              <p class="text-sm text-gray-700">文件系统分区大于物理存储，确保及时回收</p>
            </div>
          </div>
          
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4">
            <h5 class="font-bold text-yellow-700 mb-2 flex items-center">
              <i class="fas fa-chart-line mr-2"></i>性能表现
            </h5>
            <ul class="space-y-2 text-gray-700">
              <li><strong>FIO基准测试</strong>：相比F2FS提升3倍，相比zoned F2FS提升1.7倍</li>
              <li><strong>MySQL YCSB-F基准测试</strong>：相比IPLFS提升1.5倍</li>
              <li><strong>内存压力</strong>：相比IPLFS减少14倍</li>
            </ul>
          </div>
        </div>
      </section>
      
      <!-- 背景与动机 -->
      <section id="background-motivation" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-layer-group mr-3 text-blue-500"></i>
          背景与动机
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-4">日志结构文件系统的问题</h3>
          
          <div class="space-y-4 mb-6">
            <div class="flex items-start">
              <div class="flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3">
                <i class="fas fa-exclamation text-red-600"></i>
              </div>
              <div>
                <h4 class="font-bold text-gray-800">垃圾回收开销巨大</h4>
                <p class="text-gray-700 mt-1">日志结构文件系统在回收无效文件系统块时，需要暂停写入请求、更新和检查点文件系统状态，导致显著的性能下降和尾部延迟。</p>
              </div>
            </div>
            
            <div class="flex items-start">
              <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                <i class="fas fa-sync-alt text-blue-600"></i>
              </div>
              <div>
                <h4 class="font-bold text-gray-800">冗余的垃圾回收</h4>
                <p class="text-gray-700 mt-1">当日志结构文件系统在闪存存储上运行时，文件系统和底层存储都以不协调的方式执行各自的垃圾回收例程，增加了写入放大并降低系统性能。</p>
              </div>
            </div>
          </div>
          
          <!-- 图1：垃圾回收性能开销 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-microscope mr-2"></i>技术细节：图1 - 垃圾回收性能开销
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 1: 垃圾回收性能开销
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 原图占位符 -->
                <div class="image-placeholder bg-gradient-to-br from-gray-100 to-gray-200 p-6 md:p-8 rounded-lg text-center border-2 border-dashed border-gray-300">
                  <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-chart-bar text-4xl text-blue-500"></i>
                  </div>
                  <p class="text-gray-600 font-medium">性能开销对比图：文件系统级垃圾回收 vs 设备级垃圾回收</p>
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> 文件系统级垃圾回收导致性能下降至原来的1/2，而设备级垃圾回收仅降低性能最多20%。
                </div>
              </div>
              
              <!-- 技术解释部分 -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-info-circle mr-2"></i>技术解释：
                </h5>
                <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                  <li><strong>测试方法:</strong> 在512GB SSD上创建256GB存储分区，使用F2FS文件系统，填充70%分区后进行随机写入测试</li>
                  <li><strong>文件系统级垃圾回收:</strong> 当存储分区满时触发，性能下降50%</li>
                  <li><strong>设备级垃圾回收:</strong> 当设备耗尽空闲闪存页时触发，性能下降最多20%</li>
                  <li><strong>关键发现:</strong> 文件系统级垃圾回收对性能的影响远大于设备级垃圾回收</li>
                </ul>
              </div>
              
              <!-- 性能分析部分 -->
              <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                <h5 class="font-semibold text-purple-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-chart-line mr-2"></i>性能分析：
                </h5>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm md:text-base">
                  <div>
                    <strong class="text-purple-700">测试配置:</strong>
                    <ul class="list-disc list-inside mt-1 text-gray-700">
                      <li>硬件环境: Samsung 970 Pro SSD (8通道，16芯片)</li>
                      <li>软件栈: F2FS文件系统</li>
                      <li>工作负载: 随机写入测试</li>
                    </ul>
                  </div>
                  <div>
                    <strong class="text-purple-700">关键结果:</strong>
                    <ul class="list-disc list-inside mt-1 text-gray-700">
                      <li>文件系统GC: 性能下降50%</li>
                      <li>设备级GC: 性能下降最多20%</li>
                      <li>性能差异: 文件系统GC比设备级GC影响大2.5倍</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </details>
          
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-4 mt-6">现有解决方案的局限性</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-red-50 p-4 rounded-lg border border-red-200">
              <h4 class="font-bold text-red-700 mb-2">主机端解决方案</h4>
              <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                <li>可抢占垃圾回收不切实际</li>
                <li>空闲期预测容易出错</li>
                <li>检查点开销大</li>
              </ul>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 mb-2">设备端解决方案</h4>
              <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                <li>IPLFS需要极大的逻辑分区</li>
                <li>ZNS SSD将垃圾回收传递给应用</li>
                <li>内存压力大</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 问题与挑战 -->
      <section id="challenges" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-exclamation-triangle mr-3 text-blue-500"></i>
          问题与挑战
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 mb-6 leading-relaxed">
            实现设备驱动的文件系统级垃圾回收需要解决三个关键技术挑战：
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
            <div class="tech-card bg-red-50 p-4 md:p-6 rounded-lg border border-red-300">
              <div class="flex items-center mb-3">
                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3">
                  <i class="fas fa-map text-red-600"></i>
                </div>
                <h3 class="font-bold text-red-700 text-lg">文件映射更新</h3>
              </div>
              <p class="text-gray-700">存储设备需要能够更新合并后的闪存页的逻辑块地址（LBA），并与主机无缝同步。</p>
            </div>
            
            <div class="tech-card bg-yellow-50 p-4 md:p-6 rounded-lg border border-yellow-300">
              <div class="flex items-center mb-3">
                <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mr-3">
                  <i class="fas fa-exchange-alt text-yellow-600"></i>
                </div>
                <h3 class="font-bold text-yellow-700 text-lg">轻量级设备-主机接口</h3>
              </div>
              <p class="text-gray-700">存储设备需要能够通知主机更新的LBA，而不带来显著的IO通信开销。</p>
            </div>
            
            <div class="tech-card bg-green-50 p-4 md:p-6 rounded-lg border border-green-300">
              <div class="flex items-center mb-3">
                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                  <i class="fas fa-clock text-green-600"></i>
                </div>
                <h3 class="font-bold text-green-700 text-lg">设备级垃圾回收的及时激活</h3>
              </div>
              <p class="text-gray-700">在文件系统耗尽空闲段之前，设备级垃圾回收需要及时回收文件系统上的空闲段。</p>
            </div>
          </div>
          
          <div class="mt-8 p-4 md:p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-300">
            <h4 class="font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-lightbulb mr-2 text-yellow-500"></i>
              D2FS的核心解决方案
            </h4>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="text-center">
                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
                  <i class="fas fa-link text-blue-600"></i>
                </div>
                <h5 class="font-bold text-blue-700 mb-2">耦合垃圾回收</h5>
                <p class="text-sm text-gray-700">解决文件映射更新问题</p>
              </div>
              
              <div class="text-center">
                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                  <i class="fas fa-bullhorn text-green-600"></i>
                </div>
                <h5 class="font-bold text-green-700 mb-2">迁移上调用</h5>
                <p class="text-sm text-gray-700">解决设备-主机接口问题</p>
              </div>
              
              <div class="text-center">
                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                  <i class="fas fa-expand-arrows-alt text-purple-600"></i>
                </div>
                <h5 class="font-bold text-purple-700 mb-2">虚拟过度配置</h5>
                <p class="text-sm text-gray-700">解决垃圾回收时机问题</p>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 设计与实现 -->
      <section id="design-implementation" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-cogs mr-3 text-blue-500"></i>
          设计与实现
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-6">D2FS三大核心技术</h3>
          
          <!-- 耦合垃圾回收 -->
          <div class="mb-8">
            <h4 class="text-lg font-bold text-blue-700 mb-4 flex items-center">
              <i class="fas fa-link mr-2"></i>1. 耦合垃圾回收（Coupled Garbage Collection, CGC）
            </h4>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div>
                <h5 class="font-bold text-gray-800 mb-3">核心思想</h5>
                <p class="text-gray-700 mb-4">设备级垃圾回收不仅合并有效的闪存页，还将它们重新映射到新的文件系统位置。</p>
                
                <div class="bg-blue-50 p-4 rounded-lg">
                  <h6 class="font-bold text-blue-700 mb-2">关键机制：重映射（Remap）</h6>
                  <p class="text-sm text-gray-700">当闪存页迁移到新闪存块时，FTL更新受害者闪存页的LBA为新值，确保受害闪存页不仅在物理上（在同一闪存块中）而且在逻辑上（在文件系统分区的同一段中）聚集。</p>
                </div>
              </div>
              
              <div>
                <h5 class="font-bold text-gray-800 mb-3">工作流程</h5>
                <ol class="list-decimal list-inside space-y-2 text-gray-700">
                  <li><strong>受害者块选择</strong>：使用现有设备级垃圾回收的选择机制</li>
                  <li><strong>块关联迁移</strong>：将有效闪存页迁移到目标闪存块</li>
                  <li><strong>重映射</strong>：更新迁移页的LBA到新值</li>
                </ol>
              </div>
            </div>
            
            <!-- 图2：耦合垃圾回收概念 -->
            <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-6">
              <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
                <i class="fas fa-microscope mr-2"></i>技术细节：图2 - 耦合垃圾回收概念
              </summary>
              
              <div class="mt-6 space-y-6">
                <!-- 原图展示部分 -->
                <div class="original-figure-container">
                  <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                    <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                      <i class="fas fa-image mr-2 text-blue-500"></i>
                      原图 2: 文件系统级、设备级和耦合垃圾回收
                    </h5>
                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                  </div>
                  
                  <!-- 架构图占位符 -->
                  <div class="architecture-placeholder bg-white p-4 md:p-6 rounded-lg border">
                    <div class="flex items-center justify-center mb-4">
                      <i class="fas fa-sitemap text-3xl text-blue-500 mr-3"></i>
                      <h6 class="font-semibold text-gray-700">耦合垃圾回收架构图</h6>
                    </div>
                    
                    <!-- 架构组件可视化 -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                      <div class="bg-blue-50 p-3 rounded border border-blue-200 text-center">
                        <i class="fas fa-layer-group text-blue-500 mb-2"></i>
                        <p class="text-sm font-medium">原始布局</p>
                        <p class="text-xs text-gray-600 mt-1">4个文件系统段，4个闪存块</p>
                      </div>
                      <div class="bg-yellow-50 p-3 rounded border border-yellow-200 text-center">
                        <i class="fas fa-file-alt text-yellow-500 mb-2"></i>
                        <p class="text-sm font-medium">文件系统级GC</p>
                        <p class="text-xs text-gray-600 mt-1">更新F2L映射，L2P不变</p>
                      </div>
                      <div class="bg-green-50 p-3 rounded border border-green-200 text-center">
                        <i class="fas fa-hdd text-green-500 mb-2"></i>
                        <p class="text-sm font-medium">设备级GC</p>
                        <p class="text-xs text-gray-600 mt-1">更新L2P映射，F2L不变</p>
                      </div>
                      <div class="bg-purple-50 p-3 rounded border border-purple-200 text-center">
                        <i class="fas fa-link text-purple-500 mb-2"></i>
                        <p class="text-sm font-medium">耦合GC</p>
                        <p class="text-xs text-gray-600 mt-1">同时更新F2L和L2P映射</p>
                      </div>
                    </div>
                    
                    <!-- 数据流向指示 -->
                    <div class="flex flex-col md:flex-row justify-center items-center text-gray-500 text-sm space-y-2 md:space-y-0">
                      <div class="flex items-center">
                        <span>原始布局</span>
                        <i class="fas fa-arrow-right mx-2"></i>
                        <span>文件系统级GC</span>
                      </div>
                      <div class="hidden md:block"><i class="fas fa-arrow-right mx-2"></i></div>
                      <div class="flex items-center">
                        <span>设备级GC</span>
                        <i class="fas fa-arrow-right mx-2"></i>
                        <span>耦合GC</span>
                      </div>
                    </div>
                  </div>
                  
                  <!-- 原图图注 -->
                  <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                    <strong>原图图注:</strong> 耦合垃圾回收同时更新文件到逻辑地址映射(F2L)和逻辑到物理地址映射(L2P)，实现文件系统段的回收而无需主机和设备之间的数据传输。
                  </div>
                </div>
                
                <!-- 技术解释部分 -->
                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                  <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                    <i class="fas fa-info-circle mr-2"></i>技术解释：
                  </h5>
                  <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                    <li><strong>映射层次:</strong> 文件块([fd, offset]) → LBA → 物理页地址(PPA)</li>
                    <li><strong>F2L映射:</strong> 由主机文件系统管理，文件到逻辑地址的映射</li>
                    <li><strong>L2P映射:</strong> 由设备FTL管理，逻辑到物理地址的映射</li>
                    <li><strong>耦合GC创新:</strong> 设备级GC不仅更新L2P映射，还更新F2L映射，实现逻辑和物理的同时优化</li>
                  </ul>
                </div>
              </div>
            </details>
          </div>
          
          <!-- 迁移上调用 -->
          <div class="mb-8">
            <h4 class="text-lg font-bold text-green-700 mb-4 flex items-center">
              <i class="fas fa-bullhorn mr-2"></i>2. 迁移上调用（Migration Upcall）
            </h4>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h5 class="font-bold text-gray-800 mb-3">核心思想</h5>
                <p class="text-gray-700 mb-4">存储设备将关于更新LBA的事件通知搭载到发送给主机的其他IO完成信号上，避免需要专门的轮询或中断来通知LBA更新。</p>
                
                <div class="bg-green-50 p-4 rounded-lg">
                  <h6 class="font-bold text-green-700 mb-2">上调用搭载（Upcall Piggybacking）</h6>
                  <p class="text-sm text-gray-700">存储设备在迁移SQ上放置上调用时，查找要发送给主机的任何命令完成信号。当有一个时，存储设备在将要发送给主机的命令完成信号上设置新定义的UPcALL标志。</p>
                </div>
              </div>
              
              <div>
                <h5 class="font-bold text-gray-800 mb-3">优势</h5>
                <ul class="list-disc list-inside space-y-2 text-gray-700">
                  <li>不消耗主机CPU周期</li>
                  <li>不需要定义新的中断</li>
                  <li>最小化对现有IO堆栈的更改</li>
                  <li>单个迁移上调用可携带多达256个迁移记录</li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- 虚拟过度配置 -->
          <div class="mb-8">
            <h4 class="text-lg font-bold text-purple-700 mb-4 flex items-center">
              <i class="fas fa-expand-arrows-alt mr-2"></i>3. 虚拟过度配置（Virtual Overprovisioning）
            </h4>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h5 class="font-bold text-gray-800 mb-3">核心思想</h5>
                <p class="text-gray-700 mb-4">将文件系统分区的大小与底层存储设备的容量分离。通过虚拟扩展文件系统分区，确保存储设备在文件系统耗尽空闲段之前运行垃圾回收并回收空闲段。</p>
                
                <div class="bg-purple-50 p-4 rounded-lg">
                  <h6 class="font-bold text-purple-700 mb-2">虚拟过度配置度（ρᵥ）</h6>
                  <p class="text-sm text-gray-700">文件系统分区大小与存储设备容量的比率。例如，在1TB存储上创建2TB虚拟分区，ρᵥ=2。D2FS使用ρᵥ=2.4。</p>
                </div>
              </div>
              
              <div>
                <h5 class="font-bold text-gray-800 mb-3">D2FS分区布局</h5>
                <div class="bg-white border border-gray-300 rounded-lg p-4">
                  <div class="space-y-3">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-blue-500 rounded mr-2"></div>
                      <span class="text-sm font-medium">常规区域（Regular Region）</span>
                      <span class="ml-auto text-sm text-gray-600">(ρᵥ-1)×存储容量</span>
                    </div>
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-green-500 rounded mr-2"></div>
                      <span class="text-sm font-medium">垃圾回收区域（GC Region）</span>
                      <span class="ml-auto text-sm text-gray-600">1×存储容量</span>
                    </div>
                    <div class="flex items-center pt-2 border-t border-gray-200">
                      <div class="w-4 h-4 bg-purple-500 rounded mr-2"></div>
                      <span class="text-sm font-medium">总文件系统分区</span>
                      <span class="ml-auto text-sm text-gray-600">ρᵥ×存储容量</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 图8：D2FS分区布局 -->
          <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6">
            <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
              <i class="fas fa-microscope mr-2"></i>技术细节：图8 - D2FS分区布局
            </summary>
            
            <div class="mt-6 space-y-6">
              <!-- 原图展示部分 -->
              <div class="original-figure-container">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                  <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                    <i class="fas fa-image mr-2 text-blue-500"></i>
                    原图 8: D2FS分区布局
                  </h5>
                  <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                </div>
                
                <!-- 分区布局图占位符 -->
                <div class="bg-white p-4 md:p-6 rounded-lg border">
                  <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-hdd text-3xl text-blue-500 mr-3"></i>
                    <h6 class="font-semibold text-gray-700">D2FS分区布局图</h6>
                  </div>
                  
                  <!-- 分区可视化 -->
                  <div class="space-y-4">
                    <!-- 总文件系统分区 -->
                    <div class="border border-gray-300 rounded-lg overflow-hidden">
                      <div class="bg-purple-100 p-3 border-b border-gray-300">
                        <div class="flex justify-between items-center">
                          <span class="font-bold text-purple-700">总文件系统分区</span>
                          <span class="text-sm bg-purple-200 text-purple-800 px-2 py-1 rounded">ρᵥ × 存储容量</span>
                        </div>
                      </div>
                      
                      <!-- 分区内部 -->
                      <div class="p-4">
                        <!-- 常规区域 -->
                        <div class="mb-4">
                          <div class="flex items-center mb-2">
                            <div class="w-6 h-6 bg-blue-500 rounded mr-2"></div>
                            <span class="font-bold text-blue-700">常规区域（Regular Region）</span>
                            <span class="ml-auto text-sm text-gray-600">(ρᵥ-1) × 存储容量</span>
                          </div>
                          
                          <div class="pl-8">
                            <div class="flex items-center mb-2">
                              <div class="w-4 h-4 bg-blue-300 rounded mr-2"></div>
                              <span class="text-sm">元数据区（Metadata Area）</span>
                            </div>
                            <div class="flex items-center">
                              <div class="w-4 h-4 bg-blue-400 rounded mr-2"></div>
                              <span class="text-sm">主区（Main Area）</span>
                            </div>
                          </div>
                        </div>
                        
                        <!-- 垃圾回收区域 -->
                        <div>
                          <div class="flex items-center mb-2">
                            <div class="w-6 h-6 bg-green-500 rounded mr-2"></div>
                            <span class="font-bold text-green-700">垃圾回收区域（GC Region）</span>
                            <span class="ml-auto text-sm text-gray-600">1 × 存储容量</span>
                          </div>
                          <p class="pl-8 text-sm text-gray-600">专门用于耦合垃圾回收分配LBA</p>
                        </div>
                      </div>
                    </div>
                    
                    <div class="text-center text-gray-500">
                      <i class="fas fa-arrow-down"></i>
                      <span class="mx-2">映射到</span>
                      <i class="fas fa-arrow-down"></i>
                    </div>
                    
                    <!-- 物理存储 -->
                    <div class="border border-gray-300 rounded-lg overflow-hidden">
                      <div class="bg-gray-100 p-3">
                        <div class="flex justify-between items-center">
                          <span class="font-bold text-gray-700">物理存储设备</span>
                          <span class="text-sm bg-gray-200 text-gray-800 px-2 py-1 rounded">存储容量</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 原图图注 -->
                <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                  <strong>原图图注:</strong> D2FS分区由常规区域和垃圾回收区域组成。常规区域分为元数据区和主区。垃圾回收区域的大小等于存储设备容量，专门用于耦合垃圾回收。
                </div>
              </div>
              
              <!-- 设计实现部分 -->
              <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                <h5 class="font-semibold text-green-700 mb-3 flex items-center text-base md:text-lg">
                  <i class="fas fa-cogs mr-2"></i>设计实现：
                </h5>
                <div class="text-sm md:text-base text-gray-700 space-y-3">
                  <div>
                    <strong class="text-green-700">实现方法:</strong>
                    <p>D2FS基于F2FS实现，添加了虚拟过度配置支持。文件系统分区大小设置为物理存储容量的ρᵥ倍（默认2.4倍），其中1倍容量用作垃圾回收区域。</p>
                  </div>
                  <div>
                    <strong class="text-green-700">技术选择:</strong>
                    <p>选择ρᵥ=2.4是因为实验表明当常规区域的ρᵨₑ₉ᵤₗₐᵣ≥1.4时，CGC总能留下足够的空闲段。垃圾回收区域大小设置为存储容量，确保有足够空间进行重映射。</p>
                  </div>
                  <div>
                    <strong class="text-green-700">优化策略:</strong>
                    <p>D2FS采用即时丢弃策略，在使文件系统块失效后立即发送丢弃命令，尽早使包含无效文件系统块的闪存页失效。</p>
                  </div>
                </div>
              </div>
            </div>
          </details>
        </div>
      </section>
      
      <!-- 测试与评估 -->
      <section id="evaluation" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-chart-line mr-3 text-blue-500"></i>
          测试与评估
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-6">实验设置</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
              <h4 class="font-bold text-gray-800 mb-3">硬件配置</h4>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><strong>服务器:</strong> Intel Xeon, 2.10 GHz, 40核心, 512GB DRAM</li>
                <li><strong>SSD模拟器:</strong> NVMeVirt模拟Samsung 970 Pro</li>
                <li><strong>模拟SSD大小:</strong> 256GB</li>
                <li><strong>主机内存限制:</strong> 64GB</li>
              </ul>
            </div>
            
            <div>
              <h4 class="font-bold text-gray-800 mb-3">对比系统</h4>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><strong>F2FS:</strong> 标准日志结构文件系统</li>
                <li><strong>zoned F2FS:</strong> 在ZNS SSD上移植的F2FS</li>
                <li><strong>IPLFS:</strong> 无垃圾回收的日志结构文件系统</li>
              </ul>
            </div>
          </div>
          
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-6">基准测试</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <div class="tech-card bg-blue-50 p-4 rounded-lg border border-blue-200 text-center">
              <i class="fas fa-bolt text-2xl text-blue-500 mb-3"></i>
              <h4 class="font-bold text-blue-700 mb-2">FIO</h4>
              <p class="text-sm text-gray-700">4KB随机写入，180GB文件，1200秒</p>
            </div>
            
            <div class="tech-card bg-green-50 p-4 rounded-lg border border-green-200 text-center">
              <i class="fas fa-database text-2xl text-green-500 mb-3"></i>
              <h4 class="font-bold text-green-700 mb-2">TPC-C</h4>
              <p class="text-sm text-gray-700">155GB MySQL数据库，15线程，1800秒</p>
            </div>
            
            <div class="tech-card bg-purple-50 p-4 rounded-lg border border-purple-200 text-center">
              <i class="fas fa-server text-2xl text-purple-500 mb-3"></i>
              <h4 class="font-bold text-purple-700 mb-2">YCSB</h4>
              <p class="text-sm text-gray-700">175GB MySQL DB，A/F工作负载，10M操作</p>
            </div>
            
            <div class="tech-card bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-center">
              <i class="fas fa-folder text-2xl text-yellow-500 mb-3"></i>
              <h4 class="font-bold text-yellow-700 mb-2">Fileserver</h4>
              <p class="text-sm text-gray-700">45,000文件，总180GB，15线程，400秒</p>
            </div>
          </div>
          
          <!-- 吞吐量性能对比 -->
          <div class="mb-8">
            <h4 class="text-lg font-bold text-gray-800 mb-4">吞吐量性能对比</h4>
            
            <!-- 图12：FIO吞吐量 -->
            <details class="technical-details bg-gray-50 rounded-lg p-4 md:p-6 mb-6">
              <summary class="cursor-pointer font-semibold text-lg md:text-xl text-gray-800 hover:text-blue-600 transition-colors py-2">
                <i class="fas fa-microscope mr-2"></i>技术细节：图12 - FIO吞吐量对比
              </summary>
              
              <div class="mt-6 space-y-6">
                <!-- 原图展示部分 -->
                <div class="original-figure-container">
                  <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                    <h5 class="font-semibold text-gray-700 text-base md:text-lg">
                      <i class="fas fa-image mr-2 text-blue-500"></i>
                      原图 12: FIO吞吐量对比
                    </h5>
                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded self-start sm:self-auto">论文原图</span>
                  </div>
                  
                  <!-- 性能对比图占位符 -->
                  <div class="performance-chart-placeholder bg-white p-4 md:p-6 rounded-lg border">
                    <div class="flex items-center justify-center mb-4">
                      <i class="fas fa-chart-line text-3xl text-green-500 mr-3"></i>
                      <h6 class="font-semibold text-gray-700">FIO吞吐量对比分析</h6>
                    </div>
                    
                    <!-- 性能指标模拟 -->
                    <div class="space-y-4">
                      <div class="space-y-3">
                        <div class="flex items-center justify-between">
                          <span class="text-sm font-medium w-32">D2FS:</span>
                          <div class="flex-1 bg-gray-200 rounded-full h-4">
                            <div class="bg-green-500 h-4 rounded-full performance-bar" style="width: 85%"></div>
                          </div>
                          <span class="text-sm font-medium w-12 ml-2 text-right">85%</span>
                        </div>
                        <div class="flex items-center justify-between">
                          <span class="text-sm font-medium w-32">IPLFS:</span>
                          <div class="flex-1 bg-gray-200 rounded-full h-4">
                            <div class="bg-blue-500 h-4 rounded-full performance-bar" style="width: 74%"></div>
                          </div>
                          <span class="text-sm font-medium w-12 ml-2 text-right">74%</span>
                        </div>
                        <div class="flex items-center justify-between">
                          <span class="text-sm font-medium w-32">zoned F2FS:</span>
                          <div class="flex-1 bg-gray-200 rounded-full h-4">
                            <div class="bg-yellow-500 h-4 rounded-full performance-bar" style="width: 50%"></div>
                          </div>
                          <span class="text-sm font-medium w-12 ml-2 text-right">50%</span>
                        </div>
                        <div class="flex items-center justify-between">
                          <span class="text-sm font-medium w-32">F2FS:</span>
                          <div class="flex-1 bg-gray-200 rounded-full h-4">
                            <div class="bg-red-500 h-4 rounded-full performance-bar" style="width: 28%"></div>
                          </div>
                          <span class="text-sm font-weight-medium w-12 ml-2 text-right">28%</span>
                        </div>
                      </div>
                      
                      <!-- 性能改进说明 -->
                      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600">
                        <div>
                          <strong class="text-gray-700">性能提升:</strong>
                          <ul class="list-disc list-inside mt-1">
                            <li>D2FS相比F2FS: 3.0倍</li>
                            <li>D2FS相比zoned F2FS: 1.7倍</li>
                            <li>D2FS相比IPLFS: 1.15倍</li>
                          </ul>
                        </div>
                        <div>
                          <strong class="text-gray-700">性能下降:</strong>
                          <ul class="list-disc list-inside mt-1">
                            <li>D2FS开始GC时: 30%</li>
                            <li>F2FS开始GC时: 80%</li>
                            <li>zoned F2FS开始GC时: 75%</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- 原图图注 -->
                  <div class="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded border">
                    <strong>原图图注:</strong> D2FS在FIO基准测试中表现最佳，相比zoned F2FS提升约1.7倍。D2FS在设备开始回收空闲闪存块时吞吐量下降30%，而F2FS下降80%，zoned F2FS下降75%。
                  </div>
                </div>
                
                <!-- 技术解释部分 -->
                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                  <h5 class="font-semibold text-blue-700 mb-3 flex items-center text-base md:text-lg">
                    <i class="fas fa-info-circle mr-2"></i>技术解释：
                  </h5>
                  <ul class="list-disc list-inside space-y-2 text-sm md:text-base text-gray-700">
                    <li><strong>D2FS优势:</strong> 消除了昂贵的文件系统级垃圾回收，仅受设备级垃圾回收影响</li>
                    <li><strong>IPLFS问题:</strong> 虽然也消除了文件系统级垃圾回收，但FTL定期重组L2P映射结构，阻碍了处理传入IO命令</li>
                    <li><strong>写入放大因子(WAF):</strong> D2FS、IPLFS和zoned F2FS的WAF约为1.4，F2FS的WAF为1.5（因文件系统和存储设备都运行垃圾回收）</li>
                  </ul>
                </div>
              </div>
            </details>
            
            <!-- 图13：宏基准测试吞吐量 -->
            <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-300 mb-6">
              <h5 class="font-bold text-gray-700 mb-4 flex items-center">
                <i class="fas fa-chart-bar mr-2"></i>宏基准测试吞吐量（图13）
              </h5>
              
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">系统</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">TPC-C</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">YCSB-A</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">YCSB-F</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fileserver</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-4 py-3 text-sm font-medium text-blue-700">D2FS</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.40×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.25×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.35×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.20×</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-sm font-medium text-gray-700">zoned F2FS</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.00×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.00×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.00×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">1.00×</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-sm font-medium text-gray-700">IPLFS</td>
                      <td class="px-4 py-3 text-sm text-gray-900">0.95×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">0.85×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">0.90×</td>
                      <td class="px-4 py-3 text-sm text-gray-900">0.95×</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              
              <div class="mt-4 text-sm text-gray-600">
                <strong>说明:</strong> 表中数值为相对于zoned F2FS的性能倍数。D2FS在TPC-C中相比zoned F2FS提升高达1.4倍。
              </div>
            </div>
          </div>
          
          <!-- 延迟性能对比 -->
          <div class="mb-8">
            <h4 class="text-lg font-bold text-gray-800 mb-4">延迟性能对比</h4>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-300">
                <h5 class="font-bold text-gray-700 mb-4">尾部延迟改进（图14）</h5>
                
                <div class="space-y-4">
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm font-medium text-gray-700">D2FS 99.99th延迟</span>
                      <span class="text-sm font-medium text-blue-700">减少至1/3</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div class="bg-blue-600 h-2 rounded-full" style="width: 33%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm font-medium text-gray-700">YCSB-F平均延迟</span>
                      <span class="text-sm font-medium text-green-700">减少至1/5</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div class="bg-green-600 h-2 rounded-full" style="width: 20%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm font-medium text-gray-700">Fileserver平均延迟</span>
                      <span class="text-sm font-medium text-purple-700">减少至1/5</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div class="bg-purple-600 h-2 rounded-full" style="width: 20%"></div>
                    </div>
                  </div>
                </div>
                
                <div class="mt-4 text-sm text-gray-600">
                  <strong>关键发现:</strong> 消除文件系统级垃圾回收显著改善了尾部延迟，这对于性能可预测性至关重要。
                </div>
              </div>
              
              <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-300">
                <h5 class="font-bold text-gray-700 mb-4">文件系统级 vs 设备级GC延迟（图16）</h5>
                
                <div class="space-y-3">
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="font-medium">文件系统级GC延迟</span>
                      <span class="font-medium text-red-700">3-10倍更长</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                      <div class="bg-red-600 h-3 rounded-full" style="width: 90%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between text-sm mb-1">
                      <span class="font-medium">设备级GC延迟</span>
                      <span class="font-medium text-green-700">基准</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                      <div class="bg-green-600 h-3 rounded-full" style="width: 30%"></div>
                    </div>
                  </div>
                </div>
                
                <div class="mt-4 text-sm text-gray-600">
                  <strong>延迟分解:</strong> 文件系统级GC中，分配页缓存条目和遍历文件映射块的开销占总GC延迟的60%。检查点开销约占20%。
                </div>
              </div>
            </div>
          </div>
          
          <!-- FTL内存开销 -->
          <div>
            <h4 class="text-lg font-bold text-gray-800 mb-4">FTL内存开销（表1）</h4>
            
            <div class="overflow-x-auto">
              <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                  <tr>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">文件系统</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">FTL类型</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">内存需求</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">备注</th>
                  </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                  <tr>
                    <td class="px-4 py-3 text-sm font-medium text-blue-700">D2FS</td>
                    <td class="px-4 py-3 text-sm text-gray-900">页面映射 + 虚拟过度配置</td>
                    <td class="px-4 py-3 text-sm text-gray-900">25.2 MB</td>
                    <td class="px-4 py-3 text-sm text-gray-900">相比zoned F2FS大2.4倍（因虚拟过度配置）</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-sm font-medium text-gray-700">zoned F2FS</td>
                    <td class="px-4 py-3 text-sm text-gray-900">混合映射</td>
                    <td class="px-4 py-3 text-sm text-gray-900">10.4 MB</td>
                    <td class="px-4 py-3 text-sm text-gray-900">最小的内存需求</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-sm font-medium text-gray-700">F2FS</td>
                    <td class="px-4 py-3 text-sm text-gray-900">页面映射</td>
                    <td class="px-4 py-3 text-sm text-gray-900">256 MB</td>
                    <td class="px-4 py-3 text-sm text-gray-900">每个4KB逻辑块分配4字节</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-sm font-medium text-gray-700">IPLFS</td>
                    <td class="px-4 py-3 text-sm text-gray-900">区间映射</td>
                    <td class="px-4 py-3 text-sm text-gray-900">384 MB</td>
                    <td class="px-4 py-3 text-sm text-gray-900">比页面映射大1.5倍，小随机写入下效果差</td>
                  </tr>
                </tbody>
              </table>
            </div>
            
            <div class="mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
              <h5 class="font-bold text-yellow-700 mb-2 flex items-center">
                <i class="fas fa-exclamation-triangle mr-2"></i>内存开销分析
              </h5>
              <p class="text-sm text-gray-700">
                IPLFS需要巨大的内存空间（对于1PB SSD需要1.5TB内存），这在现实世界的存储设备中部署具有挑战性。D2FS的内存需求虽然比zoned F2FS大2.4倍，但仍然是合理且可管理的。
              </p>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 结论 -->
      <section id="conclusion" class="content-section mobile-optimized mb-8 md:mb-12">
        <h2 class="text-xl md:text-3xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center">
          <i class="fas fa-flag-checkered mr-3 text-blue-500"></i>
          结论
        </h2>
        
        <div class="bg-white p-4 md:p-6 rounded-lg border border-gray-200 shadow-sm">
          <h3 class="text-lg md:text-xl font-bold text-gray-700 mb-6">主要贡献总结</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
              <h4 class="font-bold text-green-700 mb-4">技术贡献</h4>
              <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><strong>耦合垃圾回收（CGC）:</strong> 设备级垃圾回收同时更新逻辑和物理地址映射</li>
                <li><strong>迁移上调用:</strong> 轻量级设备到主机通知机制，避免中断和轮询</li>
                <li><strong>虚拟过度配置:</strong> 确保设备及时回收空闲段，避免文件系统耗尽空间</li>
                <li><strong>D2FS实现:</strong> 基于F2FS，代码修改约5.4K行</li>
              </ul>
            </div>
            
            <div>
              <h4 class="font-bold text-blue-700 mb-4">性能贡献</h4>
              <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><strong>吞吐量提升:</strong> 相比F2FS提升3倍，相比zoned F2FS提升1.7倍</li>
                <li><strong>延迟改善:</strong> 99.99th尾部延迟减少至1/3，平均延迟显著改善</li>
                <li><strong>内存效率:</strong> 相比IPLFS减少14倍内存压力</li>
                <li><strong>写入放大:</strong> WAF为1.4，优于F2FS的1.5</li>
              </ul>
            </div>
          </div>
          
          <div class="mb-8">
            <h4 class="text-lg font-bold text-gray-800 mb-4">论文不足之处</h4>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                <h5 class="font-bold text-red-700 mb-2">技术局限性</h5>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                  <li>需要存储设备支持CGC功能，现有设备无法直接使用</li>
                  <li>虚拟过度配置需要额外的逻辑地址空间，可能限制最大分区大小</li>
                  <li>迁移上调用机制依赖NVMe队列，可能不适用于其他接口协议</li>
                </ul>
              </div>
              
              <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                <h5 class="font-bold text-yellow-700 mb-2">评估局限性</h5>
                <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                  <li>使用SSD模拟器而非真实硬件，可能存在性能差异</li>
                  <li>仅测试了有限的工作负载类型</li>
                  <li>未考虑多设备、分布式环境下的表现</li>
                  <li>长期耐用性和磨损均衡影响未充分评估</li>
                </ul>
              </div>
            </div>
          </div>
          
          <div class="bg-gradient-to-r from-blue-50 to-green-50 border-l-4 border-blue-500 p-4 md:p-6 rounded-r-lg">
            <h4 class="font-bold text-blue-700 mb-3 flex items-center">
              <i class="fas fa-lightbulb mr-2"></i>
              核心创新点
            </h4>
            <p class="text-gray-700 leading-relaxed">
              作者提出了一个根本性的视角转变：<strong>利用闪存存储固有的垃圾回收机制来回收文件系统空闲段</strong>，而不是在文件系统层实现垃圾回收。这一方法通过耦合垃圾回收、迁移上调用和虚拟过度配置三大技术，成功将垃圾回收任务从文件系统卸载到存储设备，显著提升了日志结构文件系统的性能。
            </p>
            
            <div class="mt-4 pt-4 border-t border-blue-200">
              <h5 class="font-bold text-green-700 mb-2">未来研究方向</h5>
              <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                <li>在真实硬件上实现和评估D2FS</li>
                <li>支持更多类型的存储设备和接口协议</li>
                <li>研究在多设备环境下的扩展性</li>
                <li>优化虚拟过度配置度的自动调整机制</li>
                <li>探索与其他存储优化技术的结合</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  
  <!-- 交互脚本 -->
  <script>
    // 智能导航和交互功能
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      const sections = document.querySelectorAll('section');
      
      function highlightNav() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (window.scrollY >= (sectionTop - 100)) {
            current = section.getAttribute('id');
          }
        });

        navItems.forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('href') === `#${current}`) {
            item.classList.add('active');
          }
        });
      }

      window.addEventListener('scroll', highlightNav);
      
      // 平滑滚动
      navItems.forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          window.scrollTo({
            top: targetSection.offsetTop - 80,
            behavior: 'smooth'
          });
        });
      });
      
      // 技术细节展开/收起
      const detailsElements = document.querySelectorAll('.technical-details');
      detailsElements.forEach(detail => {
        detail.addEventListener('toggle', function() {
          if (this.open) {
            this.style.marginBottom = '2rem';
          }
        });
      });
      
      // 性能条动画
      setTimeout(() => {
        const performanceBars = document.querySelectorAll('.performance-bar');
        performanceBars.forEach(bar => {
          const width = bar.style.width;
          bar.style.width = '0%';
          setTimeout(() => {
            bar.style.width = width;
          }, 300);
        });
      }, 500);
    });
  </script>
  
  <!-- AI生成内容标识 -->
  <div id="ai-badge" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; cursor: pointer;">
    <div style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); display: flex; align-items: center; gap: 6px; transition: all 0.3s ease;">
      <span style="font-size: 16px;">🤖</span>
      <span>AI生成</span>
    </div>
  </div>
  
  <script>
    (function(){
      const badge = document.getElementById('ai-badge');
      let expanded = false;
      
      badge.addEventListener('click', function() {
        if (!expanded) {
          const details = document.createElement('div');
          details.id = 'ai-details';
          details.style.cssText = "position:absolute;bottom:50px;right:0;background:white;color:#333;padding:12px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);width:200px;font-size:12px;line-height:1.5;border:1px solid #e5e7eb;";
          details.innerHTML = '<div style="font-weight:600;margin-bottom:8px;color:#6366f1">人工智能生成内容</div><div style="color:#666">本页面内容通过AI技术自动生成，仅供参考。生成时间：' + new Date().toLocaleDateString('zh-CN') + '</div>';
          badge.appendChild(details);
          expanded = true;
        } else {
          const details = document.getElementById('ai-details');
          if (details) details.remove();
          expanded = false;
        }
      });
    })();
  </script>
</body>
</html>