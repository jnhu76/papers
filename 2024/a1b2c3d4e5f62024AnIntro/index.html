<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>An Introduction to the Compute Express Link (CXL) Interconnect</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      scroll-behavior: smooth;
    }
    .mobile-optimized { 
      margin-bottom: 2rem !important; 
    }
    @media (max-width: 768px) {
      .content-section { 
        padding: 1rem; 
        margin-bottom: 1.5rem;
      }
      .survey-analysis {
        margin: 1rem 0;
      }
      .pdf-figure-container {
        padding: 1rem;
      }
      .image-display {
        padding: 1rem;
      }
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .nav-item {
      @apply px-4 py-2 rounded-lg transition-colors duration-200 text-gray-600 hover:text-purple-600 hover:bg-purple-50;
    }
    .nav-item.active {
      @apply text-purple-600 bg-purple-100;
    }
    /* 图像交互样式 */
    .pdf-figure-container img {
      transition: transform 0.3s ease;
    }
    .pdf-figure-container img:hover {
      transform: scale(1.02);
    }
    .timeline-item {
      position: relative;
      padding-left: 2rem;
      margin-bottom: 2rem;
    }
    .timeline-item:before {
      content: '';
      position: absolute;
      left: 0;
      top: 0.5rem;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #8b5cf6;
    }
    .timeline-item:after {
      content: '';
      position: absolute;
      left: 5px;
      top: 1.5rem;
      width: 2px;
      height: calc(100% + 1rem);
      background: #e5e7eb;
    }
    .timeline-item:last-child:after {
      display: none;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-indigo-400 via-purple-500 to-pink-400 min-h-screen">
  <!-- 导航系统 -->
  <nav class="nav-scroll bg-white/90 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-200">
    <div class="container mx-auto px-4 py-3">
      <div class="flex overflow-x-auto space-x-6 hide-scrollbar">
        <a href="#abstract" class="nav-item whitespace-nowrap">摘要</a>
        <a href="#introduction" class="nav-item whitespace-nowrap">引言</a>
        <a href="#challenges" class="nav-item whitespace-nowrap">技术挑战</a>
        <a href="#cxl-1-1" class="nav-item whitespace-nowrap">CXL 1.1协议</a>
        <a href="#cxl-2-0" class="nav-item whitespace-nowrap">CXL 2.0协议</a>
        <a href="#cxl-3-0" class="nav-item whitespace-nowrap">CXL 3.0协议</a>
        <a href="#implementations" class="nav-item whitespace-nowrap">实现与性能</a>
        <a href="#discussion" class="nav-item whitespace-nowrap">讨论与展望</a>
        <a href="#conclusion" class="nav-item whitespace-nowrap">结论</a>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8">
    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-lg p-6">
      <!-- 论文标题和元数据 -->
      <div class="mb-12 md:mb-16">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center md:text-left">
          An Introduction to the Compute Express Link (CXL) Interconnect
        </h1>
        
        <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-l-4 border-purple-500 p-6 rounded-r-lg">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
            <div class="space-y-3">
              <div>
                <strong class="text-purple-700 block mb-1">作者信息</strong>
                <div class="text-lg">Debendra Das Sharma, Robert Blankenship, Daniel Berger</div>
                <div class="text-sm text-gray-600 mt-1">Intel Corporation, Microsoft & University of Washington</div>
              </div>
              <div>
                <strong class="text-purple-700 block mb-1">发表信息</strong>
                <div>ACM Computing Surveys, Vol. 56, No. 11, Article 290, July 2024</div>
              </div>
            </div>
            <div class="space-y-3">
              <div>
                <strong class="text-purple-700 block mb-1">DOI标识</strong>
                <div class="font-mono text-sm bg-white px-3 py-2 rounded border">https://doi.org/10.1145/3669900</div>
              </div>
              <div>
                <strong class="text-purple-700 block mb-1">综述范围</strong>
                <div class="flex flex-wrap gap-2 mt-1">
                  <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">CXL 1.0-3.0</span>
                  <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">互连技术</span>
                  <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">数据中心</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 摘要 -->
      <section id="abstract" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-file-alt mr-3 text-purple-500"></i>
          摘要
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed">
            Compute Express Link (CXL) 是一种开放的行业标准互连技术，用于连接处理器与加速器、内存缓冲区、智能网络接口、持久内存和固态驱动器等设备。
            CXL提供了一致性和内存语义，其带宽随PCIe带宽扩展，同时实现了比PCIe显著更低的延迟。
          </p>
          
          <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 mb-2 flex items-center">
                <i class="fas fa-bolt mr-2"></i>关键技术特性
              </h4>
              <ul class="text-sm text-gray-700 list-disc list-inside">
                <li>基于PCIe物理层的互连</li>
                <li>缓存一致性支持</li>
                <li>内存语义</li>
                <li>低延迟通信</li>
              </ul>
            </div>
            
            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
              <h4 class="font-bold text-green-700 mb-2 flex items-center">
                <i class="fas fa-cogs mr-2"></i>主要应用场景
              </h4>
              <ul class="text-sm text-gray-700 list-disc list-inside">
                <li>高效加速器</li>
                <li>服务器内存扩展</li>
                <li>多服务器资源池化</li>
                <li>点对点通信</li>
              </ul>
            </div>
            
            <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
              <h4 class="font-bold text-purple-700 mb-2 flex items-center">
                <i class="fas fa-history mr-2"></i>技术演进
              </h4>
              <ul class="text-sm text-gray-700 list-disc list-inside">
                <li>CXL 1.0 (2019)</li>
                <li>CXL 2.0 (2020)</li>
                <li>CXL 3.0 (2022)</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 引言 -->
      <section id="introduction" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-layer-group mr-3 text-purple-500"></i>
          引言
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            CXL是一种开放的行业标准，定义了CPU和设备之间的一系列互连协议。CXL协议跨越整个计算堆栈，涉及计算机科学的多个分支。
          </p>
          
          <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-l-4 border-purple-500 p-4 rounded-r-lg mb-6">
            <h4 class="font-bold text-purple-700 mb-2 flex items-center">
              <i class="fas fa-map mr-2"></i>研究领域概览
            </h4>
            <ul class="list-disc list-inside space-y-1 text-gray-700">
              <li>领域发展时间线：从PCIe到CXL的演进</li>
              <li>核心技术分支：缓存一致性、内存语义、资源池化</li>
              <li>关键里程碑：CXL 1.0、2.0、3.0的发布</li>
            </ul>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                <i class="fas fa-microchip mr-2"></i>支持的设备类型
              </h4>
              <ul class="text-sm text-gray-700 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-gpu text-blue-500 mt-1 mr-2"></i>
                  <span>图形处理单元 (GPUs)</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-cube text-green-500 mt-1 mr-2"></i>
                  <span>通用图形处理单元 (GP-GPUs)</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-project-diagram text-purple-500 mt-1 mr-2"></i>
                  <span>现场可编程门阵列 (FPGAs)</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-memory text-red-500 mt-1 mr-2"></i>
                  <span>专用加速器和存储设备</span>
                </li>
              </ul>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
              <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                <i class="fas fa-exchange-alt mr-2"></i>与传统接口对比
              </h4>
              <ul class="text-sm text-gray-700 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-arrow-right text-blue-500 mt-1 mr-2"></i>
                  <span>PCIe: 非一致性访问，传统设备互连</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-arrow-right text-green-500 mt-1 mr-2"></i>
                  <span>DDR: 并行接口，CPU内存连接</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-arrow-right text-purple-500 mt-1 mr-2"></i>
                  <span>CXL: 一致性访问，构建于PCIe物理层之上</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 技术挑战 -->
      <section id="challenges" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-exclamation-triangle mr-3 text-purple-500"></i>
          技术挑战
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            论文中识别了四个主要挑战，这些挑战推动了CXL的开发和部署：
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-red-50 p-5 rounded-lg border border-red-200">
              <h4 class="font-bold text-red-700 mb-3 flex items-center">
                <i class="fas fa-sync-alt mr-2"></i>挑战1: 系统和设备内存的一致性访问
              </h4>
              <p class="text-sm text-gray-700 mb-3">
                PCIe设备无法缓存系统内存以利用时间或空间局部性，也无法执行原子操作序列。这阻碍了AI、ML和智能NIC等新使用模型的发展。
              </p>
              <div class="bg-white p-3 rounded border text-xs text-gray-600">
                <strong>影响:</strong> 阻碍内存中处理(PIM)设备的广泛采用
              </div>
            </div>
            
            <div class="bg-orange-50 p-5 rounded-lg border border-orange-200">
              <h4 class="font-bold text-orange-700 mb-3 flex items-center">
                <i class="fas fa-expand-arrows-alt mr-2"></i>挑战2: 内存可扩展性
              </h4>
              <p class="text-sm text-gray-700 mb-3">
                DDR内存无法跟上计算需求的指数增长。并行DDR接口的引脚效率低下，增加DDR通道会显著增加平台成本并引入信号完整性挑战。
              </p>
              <div class="bg-white p-3 rounded border text-xs text-gray-600">
                <strong>对比:</strong> PCIe提供更好的每引脚带宽，但不支持一致性
              </div>
            </div>
            
            <div class="bg-yellow-50 p-5 rounded-lg border border-yellow-200">
              <h4 class="font-bold text-yellow-700 mb-3 flex items-center">
                <i class="fas fa-unlink mr-2"></i>挑战3: 资源闲置导致的效率低下
              </h4>
              <p class="text-sm text-gray-700 mb-3">
                数据中心由于资源闲置而效率低下。当内存闲置时，另一个资源（如计算）可能被完全使用。底层原因是资源的紧密耦合。
              </p>
              <div class="bg-white p-3 rounded border text-xs text-gray-600">
                <strong>影响:</strong> 阿里云、AWS、谷歌、Meta和微软都报告了低资源利用率
              </div>
            </div>
            
            <div class="bg-blue-50 p-5 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 mb-3 flex items-center">
                <i class="fas fa-share-alt mr-2"></i>挑战4: 分布式系统中的细粒度数据共享
              </h4>
              <p class="text-sm text-gray-700 mb-3">
                分布式系统经常依赖细粒度同步。底层更新通常很小且对延迟敏感。在典型的数据中心网络中，通信延迟主导了更新的等待时间。
              </p>
              <div class="bg-white p-3 rounded border text-xs text-gray-600">
                <strong>示例:</strong> 分布式数据库、分布式共识、网络搜索
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- CXL 1.1协议 -->
      <section id="cxl-1-1" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-cogs mr-3 text-purple-500"></i>
          CXL 1.1协议
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            CXL的第一代引入了用于直接连接到主机的设备的一致性和内存语义。这使得CPU和加速器能够对共享数据结构进行细粒度异构处理，并为内存带宽和容量提供了经济高效的扩展。
          </p>
          
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-network-wired mr-2 text-blue-500"></i>
              CXL协议和设备类型
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h4 class="font-bold text-blue-700 mb-2">CXL.io</h4>
                <p class="text-sm text-gray-700 mb-3">基于PCIe，用于设备发现、配置、初始化和DMA</p>
                <div class="bg-white p-2 rounded text-xs text-gray-600">
                  <strong>状态:</strong> 所有设备必需
                </div>
              </div>
              
              <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                <h4 class="font-bold text-green-700 mb-2">CXL.cache</h4>
                <p class="text-sm text-gray-700 mb-3">设备用于缓存系统内存</p>
                <div class="bg-white p-2 rounded text-xs text-gray-600">
                  <strong>状态:</strong> Type 1和Type 2设备使用
                </div>
              </div>
              
              <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                <h4 class="font-bold text-purple-700 mb-2">CXL.mem</h4>
                <p class="text-sm text-gray-700 mb-3">CPU和其他CXL设备将设备内存作为可缓存内存访问</p>
                <div class="bg-white p-2 rounded text-xs text-gray-600">
                  <strong>状态:</strong> Type 2和Type 3设备使用
                </div>
              </div>
            </div>
            
            <!-- 设备类型可视化 -->
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <h4 class="font-bold text-gray-700 mb-4 text-center">CXL设备类型分类</h4>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white p-4 rounded-lg border border-blue-300 shadow-sm">
                  <h5 class="font-bold text-blue-700 mb-2 text-center">Type 1: 无内存加速器</h5>
                  <div class="text-center mb-3">
                    <i class="fas fa-network-wired text-3xl text-blue-500"></i>
                  </div>
                  <ul class="text-xs text-gray-700 list-disc list-inside space-y-1">
                    <li>智能NIC</li>
                    <li>协议: CXL.io + CXL.cache</li>
                    <li>使用一致性语义和DMA传输</li>
                  </ul>
                </div>
                
                <div class="bg-white p-4 rounded-lg border border-green-300 shadow-sm">
                  <h5 class="font-bold text-green-700 mb-2 text-center">Type 2: 带内存加速器</h5>
                  <div class="text-center mb-3">
                    <i class="fas fa-microchip text-3xl text-green-500"></i>
                  </div>
                  <ul class="text-xs text-gray-700 list-disc list-inside space-y-1">
                    <li>GPU、FPGA</li>
                    <li>协议: CXL.io + CXL.cache + CXL.mem</li>
                    <li>本地内存可映射到系统内存</li>
                  </ul>
                </div>
                
                <div class="bg-white p-4 rounded-lg border border-purple-300 shadow-sm">
                  <h5 class="font-bold text-purple-700 mb-2 text-center">Type 3: 内存缓冲区</h5>
                  <div class="text-center mb-3">
                    <i class="fas fa-memory text-3xl text-purple-500"></i>
                  </div>
                  <ul class="text-xs text-gray-700 list-disc list-inside space-y-1">
                    <li>内存带宽/容量扩展</li>
                    <li>协议: CXL.io + CXL.mem</li>
                    <li>连接不同内存类型</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 68字节Flit格式 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-code mr-2 text-blue-500"></i>
              CXL 68字节Flit格式
            </h3>
            
            <div class="bg-white p-5 rounded-lg border border-gray-200">
              <div class="flex flex-col md:flex-row justify-between items-center mb-4">
                <h4 class="font-bold text-gray-700">68字节Flit结构</h4>
                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">CXL 1.0/1.1/2.0</span>
              </div>
              
              <div class="bg-gray-800 text-white p-4 rounded-lg font-mono text-sm mb-4">
                <div class="flex border-b border-gray-700 py-1">
                  <div class="w-1/4 text-center bg-blue-600 py-1">2字节</div>
                  <div class="w-2/4 text-center bg-green-600 py-1">64字节</div>
                  <div class="w-1/4 text-center bg-red-600 py-1">2字节</div>
                </div>
                <div class="flex py-1">
                  <div class="w-1/4 text-center py-1">协议ID</div>
                  <div class="w-2/4 text-center py-1">有效载荷</div>
                  <div class="w-1/4 text-center py-1">CRC</div>
                </div>
              </div>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="bg-blue-50 p-3 rounded border">
                  <h6 class="font-semibold text-blue-700 mb-2">技术特性</h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>协议ID内置冗余检测和纠正</li>
                    <li>CRC保护64字节有效载荷</li>
                    <li>极低的故障率</li>
                  </ul>
                </div>
                <div class="bg-green-50 p-3 rounded border">
                  <h6 class="font-semibold text-green-700 mb-2">性能优势</h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>低延迟，类似于CPU-to-CPU对称一致性链接</li>
                    <li>在PHY级别多路复用</li>
                    <li>消除PCIe/CXL.io路径的更高延迟</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- CXL 2.0协议 -->
      <section id="cxl-2-0" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-cogs mr-3 text-purple-500"></i>
          CXL 2.0协议
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            CXL的第二代实现了资源池化，允许随时间将相同资源分配给不同的主机。在运行时重新分配资源的能力解决了资源闲置问题，因为它克服了资源与单个主机的紧密耦合。
          </p>
          
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-tasks mr-2 text-blue-500"></i>
              CXL 2.0协议增强
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div class="bg-white p-4 rounded-lg border border-blue-200 shadow-sm">
                <h4 class="font-bold text-blue-700 mb-3 flex items-center">
                  <i class="fas fa-plug mr-2"></i>热插拔支持
                </h4>
                <p class="text-sm text-gray-700">
                  CXL 1.1不允许热插拔，这排除了在平台启动后添加CXL资源。CXL 2.0启用了标准PCIe热插拔机制，支持传统物理热插拔和动态资源池化。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                <h4 class="font-bold text-green-700 mb-3 flex items-center">
                  <i class="fas fa-sitemap mr-2"></i>单级交换
                </h4>
                <p class="text-sm text-gray-700">
                  支持单级交换，CXL标准化了HDM解码器中的CXL.mem地址区域地址解码。分层解码遵循PCIe内存解码模型，允许在每个交换机处解码。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-purple-200 shadow-sm">
                <h4 class="font-bold text-purple-700 mb-3 flex items-center">
                  <i class="fas fa-database mr-2"></i>内存池化
                </h4>
                <p class="text-sm text-gray-700">
                  允许将CXL设备动态分配给一个主机。标准设备一次分配给单个主机，称为单逻辑设备(SLD)。CXL还定义了多逻辑设备(MLD)。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-orange-200 shadow-sm">
                <h4 class="font-bold text-orange-700 mb-3 flex items-center">
                  <i class="fas fa-tachometer-alt mr-2"></i>服务质量(QoS)
                </h4>
                <p class="text-sm text-gray-700">
                  引入了DevLoad字段到CXL.mem响应消息中，以通知主机其访问的设备中观察到的负载。主机应使用此负载信息来降低向该设备发送CXL请求的速率。
                </p>
              </div>
            </div>
          </div>
          
          <!-- 虚拟层次结构 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-project-diagram mr-2 text-blue-500"></i>
              虚拟层次结构(VH)
            </h3>
            
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <p class="text-sm text-gray-700 mb-4">
                为了支持多主机连接和启用设备池化，每个主机将CXL拓扑表示为一个虚拟层次结构(VH)，其中包括交换机和主机端口及每个具有设备资源的端口的虚拟桥。
              </p>
              
              <div class="bg-white p-4 rounded border mb-4">
                <h5 class="font-bold text-gray-700 mb-2">虚拟CXL交换机(VCS)</h5>
                <p class="text-sm text-gray-700">
                  每个主机看到一个单独的VCS，其中包括分配给该主机的设备的桥。Flit基于VH中的活动虚拟桥路由到设备。
                </p>
              </div>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="bg-blue-50 p-3 rounded border">
                  <h6 class="font-semibold text-blue-700 mb-2">单逻辑设备(SLD)</h6>
                  <p class="text-gray-700">标准设备一次分配给单个主机</p>
                </div>
                <div class="bg-green-50 p-3 rounded border">
                  <h6 class="font-semibold text-green-700 mb-2">多逻辑设备(MLD)</h6>
                  <p class="text-gray-700">单个CXL.mem设备的资源可以划分为逻辑设备(最多16个)，可以同时分配给不同的主机</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- CXL 3.0协议 -->
      <section id="cxl-3-0" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-cogs mr-3 text-purple-500"></i>
          CXL 3.0协议
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            为了满足大型分布式系统中的数据共享挑战，CXL 3.0将CXL 2.0引入的资源池化扩展到更大的规模，具有多级交换和协议支持，最多支持4,096个终端设备，利用更大的Flit大小，具有低延迟和足够的带宽。
          </p>
          
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-bullseye mr-2 text-blue-500"></i>
              CXL 3.0主要特性
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="bg-white p-4 rounded-lg border border-blue-200 shadow-sm">
                <h4 class="font-bold text-blue-700 mb-3 flex items-center">
                  <i class="fas fa-tachometer-alt mr-2"></i>带宽加倍
                </h4>
                <p class="text-sm text-gray-700">
                  支持64.0 GT/s，使用PAM-4(脉冲幅度调制4级)信令，基于PCIe 6.0规范。同时保持延迟不变，这对于扩展到更大的拓扑是必需的。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                <h4 class="font-bold text-green-700 mb-3 flex items-center">
                  <i class="fas fa-network-wired mr-2"></i>结构拓扑支持
                </h4>
                <p class="text-sm text-gray-700">
                  这是任何具有事务间排序约束的负载存储互连标准的首次。具有任意源-目标对之间的多条路径，CXL摆脱了树拓扑的限制。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-purple-200 shadow-sm">
                <h4 class="font-bold text-purple-700 mb-3 flex items-center">
                  <i class="fas fa-link mr-2"></i>直接点对点访问
                </h4>
                <p class="text-sm text-gray-700">
                  PCIe/CXL设备直接访问由Type 2/Type 3设备托管的相干HDM内存，而无需涉及主机处理器(如果没有冲突)。这导致低延迟、较少拥塞和高带宽效率。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-orange-200 shadow-sm">
                <h4 class="font-bold text-orange-700 mb-3 flex items-center">
                  <i class="fas fa-share-alt mr-2"></i>共享相干内存
                </h4>
                <p class="text-sm text-gray-700">
                  多个系统共享数据结构、执行同步或使用低延迟负载存储语义传递消息。消息传递也可以使用负载存储CXL.io语义完成。
                </p>
              </div>
            </div>
          </div>
          
          <!-- Flit格式 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-code mr-2 text-blue-500"></i>
              CXL 3.0 Flit格式
            </h3>
            
            <div class="bg-white p-5 rounded-lg border border-gray-200">
              <div class="flex flex-col md:flex-row justify-between items-center mb-4">
                <h4 class="font-bold text-gray-700">256字节Flit结构</h4>
                <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">CXL 3.0</span>
              </div>
              
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                <div class="bg-gray-800 text-white p-4 rounded-lg font-mono text-sm">
                  <div class="flex flex-col border border-gray-700">
                    <div class="bg-blue-600 py-2 text-center">2字节</div>
                    <div class="bg-green-600 py-2 text-center">236字节</div>
                    <div class="bg-red-600 py-2 text-center">6字节</div>
                    <div class="bg-yellow-600 py-2 text-center">8字节</div>
                    <div class="bg-indigo-600 py-2 text-center">4字节</div>
                  </div>
                  <div class="flex flex-col py-2">
                    <div class="text-center py-1">Flit Hdr</div>
                    <div class="text-center py-1">TLP</div>
                    <div class="text-center py-1">DLP</div>
                    <div class="text-center py-1">CRC</div>
                    <div class="text-center py-1">FEC</div>
                  </div>
                </div>
                
                <div class="md:col-span-2">
                  <h5 class="font-bold text-gray-700 mb-2">延迟优化(LO) Flit</h5>
                  <p class="text-sm text-gray-700 mb-3">
                    LO Flit细分为两个子Flit，每个128B，奇Flit半部分有FEC，偶Flit半部分有2B Flit Hdr。每个Flit半部分有6B CRC。
                  </p>
                  
                  <div class="bg-gray-100 p-3 rounded text-xs text-gray-700">
                    <strong>优势:</strong> 应用CRC首先有助于减少x16链路上的2纳秒延迟。此外，128B的CRC使得累积延迟略好于32 GT/s时的68B Flit累积延迟。
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 点对点通信 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-exchange-alt mr-2 text-blue-500"></i>
              点对点通信和内存映射
            </h3>
            
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <p class="text-sm text-gray-700 mb-4">
                CXL 3.0中的Back-Invalidate流实现了三组用途：CXL/PCIe设备通过CXL.io UIO访问HDM-DB内存的直接点对点通信、Type 2设备实现侦听过滤器和将大块本地内存映射到HDM-DB区域的能力，以及跨多个独立主机的硬件强制相干共享内存。
              </p>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="bg-blue-50 p-3 rounded border">
                  <h6 class="font-semibold text-blue-700 mb-2">UIO和BI的优势</h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>绕过主机处理器</li>
                    <li>直接设备间访问</li>
                    <li>减少侦听开销</li>
                    <li>降低延迟</li>
                  </ul>
                </div>
                <div class="bg-green-50 p-3 rounded border">
                  <h6 class="font-semibold text-green-700 mb-2">共享内存实现</h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>硬件强制相干共享内存</li>
                    <li>跨多个独立主机</li>
                    <li>支持大规模应用</li>
                    <li>启用域间中断</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 实现与性能 -->
      <section id="implementations" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-chart-line mr-3 text-purple-500"></i>
          实现与性能
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            CXL生态系统需要CPU和设备支持。虽然CXL 3.0产品预计将在几年内推出，但CXL 1.1和CXL 2.0已在多个商业产品中部署。
          </p>
          
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-microchip mr-2 text-blue-500"></i>
              厂商支持情况
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div class="bg-white p-4 rounded-lg border border-blue-200 shadow-sm">
                <h4 class="font-bold text-blue-700 mb-3">CPU厂商支持</h4>
                <ul class="text-sm text-gray-700 space-y-2">
                  <li class="flex items-start">
                    <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                    <span>Intel: Sapphire Rapids (SPR) CPU, Agilex7 FPGA</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                    <span>AMD: Genoa和Bergamo CPU, SmartNIC设备</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                    <span>ARM: V2, N2和E2系列CPU的CXL 2.0支持</span>
                  </li>
                </ul>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                <h4 class="font-bold text-green-700 mb-3">设备和IP厂商</h4>
                <ul class="text-sm text-gray-700 space-y-2">
                  <li class="flex items-start">
                    <i class="fas fa-cube text-blue-500 mt-1 mr-2"></i>
                    <span>IP厂商: Synopsys, Cadence, PLDA/Rambus, Mobiveil</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-memory text-purple-500 mt-1 mr-2"></i>
                    <span>内存厂商: Samsung, Montage, SK Hynix, Microchip, Micron, Astera Labs</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- 延迟测量 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-clock mr-2 text-blue-500"></i>
              延迟测量
            </h3>
            
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <p class="text-sm text-gray-700 mb-4">
                在高层，CXL延迟由协议组件和取决于负载的排队组件组成。在空闲系统中，CXL协议延迟分析如下：
              </p>
              
              <div class="bg-white p-4 rounded border mb-4">
                <h5 class="font-bold text-gray-700 mb-2">CXL延迟组件</h5>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                  <div class="text-center">
                    <div class="bg-blue-100 p-3 rounded-lg">
                      <div class="font-bold text-blue-700">PHY层</div>
                      <div class="text-gray-700">串行化/反串行化</div>
                    </div>
                  </div>
                  <div class="text-center">
                    <div class="bg-green-100 p-3 rounded-lg">
                      <div class="font-bold text-green-700">链路层</div>
                      <div class="text-gray-700">CRC检查、信用管理</div>
                    </div>
                  </div>
                  <div class="text-center">
                    <div class="bg-purple-100 p-3 rounded-lg">
                      <div class="font-bold text-purple-700">事务层</div>
                      <div class="text-gray-700">Flit打包/解包</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="bg-white p-4 rounded border">
                <h5 class="font-bold text-gray-700 mb-2">端到端延迟估计</h5>
                <div class="text-sm text-gray-700 space-y-2">
                  <div class="flex justify-between">
                    <span>CXL端口往返延迟:</span>
                    <span class="font-mono">21-25 纳秒</span>
                  </div>
                  <div class="flex justify-between">
                    <span>带中继器的飞行时间:</span>
                    <span class="font-mono">15 纳秒</span>
                  </div>
                  <div class="flex justify-between border-t pt-2">
                    <span class="font-bold">总端到端延迟:</span>
                    <span class="font-mono font-bold">57 纳秒</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 带宽性能 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-tachometer-alt mr-2 text-blue-500"></i>
              带宽性能
            </h3>
            
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <p class="text-sm text-gray-700 mb-4">
                x16 CXL链路在32.0 GT/s数据速率下每个方向具有64 GB/s的原始带宽。然而，由于链路传输除实际有效载荷之外的数据（包括头部、CRC和协议ID/Flit HDR），存在协议开销。
              </p>
              
              <div class="overflow-x-auto">
                <table class="min-w-full bg-white rounded-lg overflow-hidden text-sm">
                  <thead class="bg-gray-100">
                    <tr>
                      <th class="py-2 px-4 text-left">协议</th>
                      <th class="py-2 px-4 text-center">Flit类型</th>
                      <th class="py-2 px-4 text-center">链路效率</th>
                      <th class="py-2 px-4 text-center">实际带宽(GB/s)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b">
                      <td class="py-2 px-4">CXL.io</td>
                      <td class="py-2 px-4 text-center">68字节</td>
                      <td class="py-2 px-4 text-center">90.6% - 92%</td>
                      <td class="py-2 px-4 text-center">58.6</td>
                    </tr>
                    <tr class="border-b">
                      <td class="py-2 px-4">CXL.cache+mem</td>
                      <td class="py-2 px-4 text-center">68字节</td>
                      <td class="py-2 px-4 text-center">92.4% - 93.9%</td>
                      <td class="py-2 px-4 text-center">56.6</td>
                    </tr>
                    <tr class="border-b">
                      <td class="py-2 px-4">CXL.io</td>
                      <td class="py-2 px-4 text-center">256字节</td>
                      <td class="py-2 px-4 text-center">92%</td>
                      <td class="py-2 px-4 text-center">58.7</td>
                    </tr>
                    <tr>
                      <td class="py-2 px-4">CXL.cache+mem</td>
                      <td class="py-2 px-4 text-center">256字节</td>
                      <td class="py-2 px-4 text-center">93.8%</td>
                      <td class="py-2 px-4 text-center">112</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 讨论与展望 -->
      <section id="discussion" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-comments mr-3 text-purple-500"></i>
          讨论与展望
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            论文讨论了CXL对计算格局的影响，并概述了初步的未来方向。
          </p>
          
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-lightbulb mr-2 text-blue-500"></i>
              对计算格局的影响
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="bg-white p-4 rounded-lg border border-blue-200 shadow-sm">
                <h4 class="font-bold text-blue-700 mb-3">影响1: CXL对设备的网络效应</h4>
                <p class="text-sm text-gray-700">
                  与PCIe相比，CXL显著扩展了使用模型和能力，例如由于更低的延迟、池化和硬件一致性。这些优势为I/O设备采用CXL创造了激励。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                <h4 class="font-bold text-green-700 mb-3">影响2: 内存向封装并行总线和CXL封装外迁移</h4>
                <p class="text-sm text-gray-700">
                  与本地连接内存(DDR)相比，CXL提供了基本的扩展和效率优势。CXL提供8倍更高的每引脚带宽和更高容量，这给CXL带来了显著的可扩展性优势。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-purple-200 shadow-sm">
                <h4 class="font-bold text-purple-700 mb-3">影响3: CXL将发展为机架或集群级互连</h4>
                <p class="text-sm text-gray-700">
                  与今天基于以太网和InfiniBand的数据中心网络相比，CXL将延迟降低了一个数量级。此外，CXL的相干内存共享和细粒度同步可以显著提升关键工作负载的分布式系统性能。
                </p>
              </div>
              
              <div class="bg-white p-4 rounded-lg border border-orange-200 shadow-sm">
                <h4 class="font-bold text-orange-700 mb-3">影响4: CXL将实现高度可组合系统</h4>
                <p class="text-sm text-gray-700">
                  可组合性意味着组件和资源可以在运行时动态组装并分配给工作负载或虚拟机。融合和池化设备由于增加了多路复用机会而导致显著更好的资源使用，从而降低成本。
                </p>
              </div>
            </div>
          </div>
          
          <!-- 未来方向 -->
          <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-road mr-2 text-blue-500"></i>
              未来方向
            </h3>
            
            <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
              <p class="text-sm text-gray-700 mb-4">
                CXL开启了跨计算机科学和工程的研究方向：
              </p>
              
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                <div class="bg-white p-3 rounded border">
                  <h6 class="font-semibold text-blue-700 mb-2 flex items-center">
                    <i class="fas fa-microchip mr-2"></i>计算机体系结构
                  </h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>新内存控制器特性</li>
                    <li>CPU架构影响</li>
                    <li>预取和缓冲区大小策略</li>
                  </ul>
                </div>
                <div class="bg-white p-3 rounded border">
                  <h6 class="font-semibold text-green-700 mb-2 flex items-center">
                    <i class="fas fa-desktop mr-2"></i>计算机系统
                  </h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>本地和分布式内存管理</li>
                    <li>缓解拥塞和故障</li>
                    <li>工作负载调度演进</li>
                  </ul>
                </div>
                <div class="bg-white p-3 rounded border">
                  <h6 class="font-semibold text-purple-700 mb-2 flex items-center">
                    <i class="fas fa-cogs mr-2"></i>计算机工程
                  </h6>
                  <ul class="text-gray-700 list-disc list-inside">
                    <li>降低CXL内存、加速器和交换机的延迟</li>
                    <li>错误遏制和管理</li>
                    <li>通过UCIe实现共封装光学器件</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 结论 -->
      <section id="conclusion" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-flag-checkered mr-3 text-purple-500"></i>
          结论
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <p class="text-gray-700 leading-relaxed mb-6">
            CXL解决了重大的行业挑战，同时遵循基于开放性、简单性和向后兼容性的设计理念。这使CXL能够作为跨行业的通用标准获得关注。所有这些因素也使CXL成为学术界内的趋势研究领域。
          </p>
          
          <div class="bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 p-4 rounded-r-lg">
            <h4 class="font-bold text-green-700 mb-2 flex items-center">
              <i class="fas fa-check-circle mr-2"></i>核心贡献总结
            </h4>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>提供了CXL标准的全面介绍，涵盖CXL 1.0、CXL 2.0和CXL 3.0</li>
              <li>调查了CXL实现并讨论了CXL对数据中心格局的影响</li>
              <li>识别了推动CXL开发和部署的关键技术挑战</li>
              <li>分析了CXL协议的技术细节和性能特征</li>
              <li>讨论了CXL的未来方向和潜在影响</li>
            </ul>
          </div>
        </div>
      </section>
      
      <!-- 论文不足与局限 -->
      <section id="limitations" class="content-section mobile-optimized mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center">
          <i class="fas fa-exclamation-circle mr-3 text-purple-500"></i>
          论文不足与局限
        </h2>
        
        <div class="bg-white p-6 rounded-lg border border-gray-200 shadow-sm">
          <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg mb-6">
            <h4 class="font-bold text-yellow-700 mb-2 flex items-center">
              <i class="fas fa-lightbulb mr-2"></i>分析视角
            </h4>
            <p class="text-gray-700">
              作为一篇综述论文，本文主要关注CXL技术的正面特性和优势，对潜在局限性和挑战的讨论相对有限。
            </p>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-red-50 p-4 rounded-lg border border-red-200">
              <h4 class="font-bold text-red-700 mb-3">技术深度不足</h4>
              <ul class="text-sm text-gray-700 list-disc list-inside space-y-2">
                <li>对安全特性的关注较少，论文明确提到"较少关注安全特性、安全影响和更高级别的软件功能"</li>
                <li>缺乏对CXL实现中可能遇到的实际工程挑战的深入讨论</li>
                <li>对与传统系统兼容性和迁移路径的讨论有限</li>
              </ul>
            </div>
            
            <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
              <h4 class="font-bold text-orange-700 mb-3">性能评估局限</h4>
              <ul class="text-sm text-gray-700 list-disc list-inside space-y-2">
                <li>性能数据主要基于Intel实现，缺乏跨厂商的全面比较</li>
                <li>对CXL 3.0的性能评估主要是预测性的，缺乏实际测量数据</li>
                <li>对实际工作负载下的性能特征分析有限</li>
              </ul>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
              <h4 class="font-bold text-blue-700 mb-3">生态系统覆盖不全面</h4>
              <ul class="text-sm text-gray-700 list-disc list-inside space-y-2">
                <li>对软件生态系统和支持的讨论相对简略</li>
                <li>缺乏对部署成本和投资回报率的深入分析</li>
                <li>对中小型企业采用CXL的可行性讨论有限</li>
              </ul>
            </div>
            
            <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
              <h4 class="font-bold text-purple-700 mb-3">未来挑战分析不足</h4>
              <ul class="text-sm text-gray-700 list-disc list-inside space-y-2">
                <li>对CXL技术可能面临的标准化和互操作性挑战讨论有限</li>
                <li>缺乏对潜在竞争技术和替代方案的深入比较</li>
                <li>对CXL在特定行业和应用场景中的适用性分析不足</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  
  <!-- 交互脚本 -->
  <script>
    // 智能导航和交互功能
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      const sections = document.querySelectorAll('section');
      
      function highlightNav() {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (window.scrollY >= (sectionTop - 100)) {
            current = section.getAttribute('id');
          }
        });

        navItems.forEach(item => {
          item.classList.remove('active');
          if (item.getAttribute('href') === `#${current}`) {
            item.classList.add('active');
          }
        });
      }

      window.addEventListener('scroll', highlightNav);
      
      // 平滑滚动
      navItems.forEach(item => {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          window.scrollTo({
            top: targetSection.offsetTop - 80,
            behavior: 'smooth'
          });
        });
      });
      
      // 图像交互增强
      const images = document.querySelectorAll('.pdf-figure-container img');
      images.forEach(img => {
        img.addEventListener('click', function() {
          this.classList.toggle('max-w-full');
          this.classList.toggle('max-w-none');
          this.classList.toggle('cursor-zoom-out');
        });
        
        img.style.cursor = 'zoom-in';
      });
    });
  </script>
<!-- AI生成内容标识 --><div id="ai-badge" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; cursor: pointer;"><div style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); display: flex; align-items: center; gap: 6px; transition: all 0.3s ease;"><span style="font-size: 16px;">🤖</span><span>AI生成</span></div></div><script>(function(){const badge=document.getElementById('ai-badge');let expanded=false; badge.addEventListener('click',function(){if(!expanded){const details=document.createElement('div');details.id='ai-details';details.style.cssText="position:absolute;bottom:50px;right:0;background:white;color:#333;padding:12px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);width:200px;font-size:12px;line-height:1.5;border:1px solid #e5e7eb;";details.innerHTML='<div style="font-weight:600;margin-bottom:8px;color:#6366f1">人工智能生成内容</div><div style="color:#666">本页面内容通过AI技术自动生成，仅供参考。生成时间：'+new Date().toLocaleDateString('zh-CN')+'</div>';badge.appendChild(details);expanded=true;}else{const details=document.getElementById('ai-details');if(details)details.remove();expanded=false;}});})();</script></body>
</html>